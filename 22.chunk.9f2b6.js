(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"0942":function(t,n,e){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}e.d(n,"a",(function(){return i}))},"7zpj":function(t,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return o}));var i=!("undefined"==typeof window||!window),o=function(t,n){void 0===n&&(n="body"),i&&document.querySelector(n)&&(document.querySelector(n).style.paddingBottom=t)}},P29Z:function(t,n,e){"use strict";e("7lSB"),e("ARwc"),e("HSDZ"),e("Xwjj")},Xwjj:function(){},lNSM:function(t,n,e){"use strict";(function(t){function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}var o,s=e("0942"),a=e("7L9N"),r=e("mK0O"),c=e("Fcif"),l=e("4dxh"),u=e("7zpj"),f=e("y5aI"),d=e("oT8Y"),p=u.a&&document.body,h=p,m={title:"",message:"",align:"center",showCancel:!1,confirmContent:"确定",cancelContent:"取消",mask:!0,visible:!0},b=function(n){if(!u.a)return null;p&&o&&(Object(l.render)("",p,o),o=null);var e=Object(c.a)({},m,n);o=Object(l.render)(t(v,e),p)},v=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t=n.call.apply(n,[this].concat(i))||this,Object(r.a)(Object(s.a)(t),"state",{visible:t.props.visible,loading:{confirm:!1,cancel:!1}}),Object(r.a)(Object(s.a)(t),"destroy",(function(){o&&p&&(Object(l.render)("",p,o),o=null)})),t}Object(a.a)(e,n);var i=e.prototype;return i.componentDidUpdate=function(){h&&(h.style.overflow=this.props.visible?"hidden":"")},i.handleAction=function(t){var n=this;if(!this.state.loading[t]){var e=this.props.beforeClose;e?(this.setState((function(n){return n.loading[t]=!0,{loading:n.loading}})),e(t,(function(e){!1!==e&&n.state.loading[t]&&(n.onClose(t),n.setState({loading:{confirm:!1,cancel:!1}}))}))):this.onClose(t)}},i.onClose=function(t){var n=this;"confirm"===t?this.props.onConfirm&&this.props.onConfirm():this.props.onCancel&&this.props.onCancel(),setTimeout((function(){return n.setState({visible:!1})}))},i.render=function(n,e){var i=n.prefix,o=n.title,s=n.message,a=n.align,r=n.children,c=n.showCancel,l=n.confirmContent,u=n.cancelContent,p=n.mask,h=e.visible,m=e.loading,b=o&&t("div",{className:i+"__box__header"},o),v=(!(!r||!r.length)||s)&&t("div",{className:i+"__box__main "+i+"__box__main--"+a},r&&r.length>0?r:t("div",{dangerouslySetInnerHTML:{__html:s},className:i+"__box__main "+i+"__box__main--"+a})),w=m.confirm,y=m.cancel,_=t("div",{className:i+"__btngroup"},c&&t("div",{className:i+"__btn "+i+"__btn--cancel",onClick:this.handleAction.bind(this,"cancel")},t(f.a,{type:"cancel",block:!0,loading:y},u)),t("div",{className:i+"__btn "+i+"__btn--confirm",onClick:this.handleAction.bind(this,"confirm")},t(f.a,{type:"primary",block:!0,loading:w},l)));return t("div",{className:i},p&&t("div",{className:i+"__mask"}),t(d.a,{visible:h,name:"caf-modal-fade",afterLeave:this.destroy},t("div",{className:i+"__box"},b,v,_)))},e}(l.Component);Object(r.a)(v,"defaultProps",{prefix:"caf-modal",align:"center",showCancel:!1,confirmContent:"确定",cancelContent:"取消",mask:!0,visible:!0}),Object(r.a)(v,"alert",(function(t){b(t)})),Object(r.a)(v,"confirm",(function(t){b(function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(e,!0).forEach((function(n){Object(r.a)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({showCancel:!0},t))})),n.a=v}).call(this,e("4dxh").h)},oT8Y:function(t,n,e){"use strict";var i=e("0942"),o=e("7L9N"),s=e("mK0O"),a=function(t){function n(n){var e;return e=t.call(this,n)||this,Object(s.a)(Object(i.a)(e),"noop",(function(t,n){n&&n(this)})),e.state={isShow:n.instant},e.noop=e.noop.bind(Object(i.a)(e)),e}Object(o.a)(n,t);var e=n.prototype;return e.cssAnimation=function(t){var n=this,e=this.props,i=e.name;if(e.visible){var o,s=[i,i+"-enter",i+"-enter-active"];(o=t.classList).add.apply(o,s),setTimeout((function(){n.removeClassName(t,[i+"-enter"])})),this.bindAnimationEvent(t,s)}else{var a,r=[i+"-leave-active"];(a=t.classList).add.apply(a,r),setTimeout((function(){r.push(i+"-leave"),t.classList.add(i+"-leave")})),this.bindAnimationEvent(t,r)}},e.bindAnimationEvent=function(t,n){var e=this,i=this.transitionend();this.animate(t),t.addEventListener(i,(function(){e.removeClassName(t,n),e.animate(t,!0)}))},e.transitionend=function(){var t,n=document.createElement("noop"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e)if(void 0!==n.style[t])return e[t]},e.removeClassName=function(t,n){var e;t&&(e=t.classList).remove.apply(e,n)},e.animate=function(t,n){var e=this;void 0===n&&(n=!1);var i=this.props,o=i.beforeEnter,s=i.enter,a=i.beforeLeave,r=i.leave,c=i.css,l=i.name;o=o||this.noop,s=s||this.noop,a=a||this.noop,r=r||this.noop,i.visible?(o(t),l&&c?n?this.done():s(t):setTimeout((function(){return s(t,e.done)}))):(a(t),l&&c?n?this.done():r(t):setTimeout((function(){return r(t,e.done)})))},e.animationStart=function(){var t=this.base,n=this.props;n.name&&n.css?this.cssAnimation(t):this.animate(t)},e.done=function(){var t=this,n=this.base,e=this.props,i=e.afterEnter,o=e.afterLeave;i=i||this.noop,o=o||this.noop,e.visible?i(n):(o(n),setTimeout((function(){return t.setState({isShow:!1})})))},e.componentWillReceiveProps=function(t){t.visible&&this.setState({isShow:!0})},e.componentDidUpdate=function(t){t.visible!==this.props.visible&&this.animationStart()},e.componentDidMount=function(){var t=this;this.props.visible&&!this.state.isShow&&this.setState({isShow:!0},(function(){t.animationStart()}))},e.render=function(t,n){var e=t.children;return n.isShow&&e[0]?e[0]:null},n}(e("4dxh").Component);Object(s.a)(a,"defaultProps",{visible:!1,instant:!1,css:!0}),n.a=a},qoy7:function(t,n,e){"use strict";e.r(n),function(t){function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}e.d(n,"default",(function(){return r}));e("spPJ");var s=e("y5aI"),a=(e("P29Z"),e("lNSM")),r=function(n){function e(){for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o(i(t=n.call.apply(n,[this].concat(s))||this),"showModal",(function(t){var n=void 0===t?{}:t,e=n.type,i=void 0===e?"confirm":e,o=n.title,s=void 0===o?"标题":o,r=n.message,c=void 0===r?"模态框内容":r,l=n.beforeClose,u=void 0===l?null:l;return function(){a.a[i]({title:s,message:c,beforeClose:u})}})),o(i(t),"beforeClose",(function(t,n){"confirm"===t?(console.log("confirm close in 2 sec"),setTimeout((function(){return n()}),2e3)):"cancel"===t&&(console.log("cancel won't close until click confirm"),n(!1))})),t}var r,c;return c=n,(r=e).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c,e.prototype.render=function(){return t("div",{class:"caf-demo-block"},t("p",{class:"caf-demo-title"},"modal 类型"),t("div",{class:"caf-demo-buttons"},t(s.a,{onClick:this.showModal()},"确认模态框"),t(s.a,{onClick:this.showModal({type:"alert"})},"警告模态框")),t("p",{class:"caf-demo-title"},"modal 回调"),t(s.a,{onClick:this.showModal({beforeClose:this.beforeClose})},"带回调模态框"),t("p",{class:"caf-demo-intro"},"在回调中返回  ",t("b",null,"false")," 会让模态框不关闭，而不返回或返回 ",t("b",null,"true")," 则会关闭"))},e}(e("4dxh").Component)}.call(this,e("4dxh").h)},spPJ:function(t,n,e){"use strict";e("7lSB"),e("ARwc"),e("HSDZ")}}]);
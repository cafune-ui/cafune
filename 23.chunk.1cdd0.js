(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{D61w:function(){},YkKB:function(t,e,n){"use strict";(function(t){function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n("yA1Q"),a=n("8Jek"),c=n.n(a),u=(n("17x9"),10),l=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i(r(t=e.call.apply(e,[this].concat(o))||this),"state",{status:"normal",height:0}),i(r(t),"pullrefresh",Object(s.createRef)()),i(r(t),"pullrefresh_loading",Object(s.createRef)()),i(r(t),"headHeight",50),i(r(t),"touchStart",(function(e){t.resetTouchStatus(),t.startX=e.touches[0].clientX,t.startY=e.touches[0].clientY})),i(r(t),"touchMove",(function(e){var n,o,r=e.touches[0];t.deltaX=r.clientX-t.startX,t.deltaY=r.clientY-t.startY,t.offsetX=Math.abs(t.deltaX),t.offsetY=Math.abs(t.deltaY),t.direction=t.direction||((n=t.offsetX)>(o=t.offsetY)&&n>u?"horizontal":o>n&&o>u?"vertical":"")})),i(r(t),"resetTouchStatus",(function(){t.direction="",t.deltaX=0,t.deltaY=0,t.offsetX=0,t.offsetY=0})),i(r(t),"onTouchStart",(function(e){!t.untouchable()&&t.getCeiling()&&t.touchStart(e)})),i(r(t),"onTouchMove",(function(e){t.untouchable()||(t.touchMove(e),!t.ceiling&&t.getCeiling()&&(t.startY=e.touches[0].clientY,t.deltaY=0),t.ceiling&&t.deltaY>=0&&"vertical"===t.direction&&(t.setStatus(t.ease(t.deltaY)),e.cancelable&&e.preventDefault()))})),i(r(t),"onTouchEnd",(function(){!t.untouchable()&&t.ceiling&&t.deltaY&&("loosing"===t.state.status?(t.props.onRefresh&&t.props.onRefresh(),t.setStatus(t.headHeight,!0)):t.setStatus(0))})),t}var a,l;l=e,(a=n).prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l;var h=n.prototype;return h.componentDidMount=function(){if(this.pullrefresh){var t=this.pullrefresh.current;t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchEnd,!1)}},h.componentWillUnmount=function(){if(this.pullrefresh){var t=this.pullrefresh.current;t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchEnd,!1)}},h.untouchable=function(){return"loading"===this.state.status||"success"===this.state.status||this.props.disabled},h.getCeiling=function(){return this.ceiling=0===(document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop),this.ceiling},h.componentWillReceiveProps=function(t){t.loading?this.setStatus(t.loading?this.headHeight:0,t.loading):this.setStatus(0)},h.ease=function(t){var e=this.headHeight;return t<e?t:t<2*e?Math.round(e+(t-e)/2):t>1.5*e?1.5*e:Math.round(1.5*e+(t-2*e)/4)},h.setStatus=function(t,e){var n,o;(n=this.pullrefresh_loading.current).style.transform="translate3d(0, "+(o=t)+"px, 0)",n.style.msTransform="translate3d(0, "+o+"px, 0)",n.style.MozTransform="translate3d(0, "+o+"px, 0)",n.style.webkitTransform="translate3d(0, "+o+"px, 0)";var r=e?"loading":0===t?"normal":t<this.headHeight?"pulling":"loosing";r!==this.state.status&&this.setState({status:r})},h.render=function(e){var n=e.prefix,r=e.className,i=e.children,s=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)e.indexOf(n=i[o])>=0||(r[n]=t[n]);return r}(e,["prefix","className","children"]);return t("div",o({className:c()(n,r),ref:this.pullrefresh},s),t("span",{className:n+"-loading",ref:this.pullrefresh_loading}),i)},n}(s.Component);i(l,"defaultProps",{prefix:"caf-pullref"}),e.a=l}).call(this,n("yA1Q").h)},gzeH:function(t,e,n){"use strict";n.r(e),function(t){function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"default",(function(){return s}));n("vgRm");var i=n("YkKB"),s=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r(o(t=e.call.apply(e,[this].concat(i))||this),"state",{count:1,loading:!1}),r(o(t),"onRefresh",(function(){setTimeout((function(){console.log("刷新成功"),t.setState({loading:!1,count:t.state.count+1})}),2e3)})),t}var s,a;return a=e,(s=n).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,n.prototype.render=function(e,n){return function(t){if(null==t)throw new TypeError("Cannot destructure undefined")}(e),t(i.a,{loading:n.loading,onRefresh:this.onRefresh},t("div",{class:"caf-demo-block",style:"min-height: 500px;"},"count: ",n.count))},n}(n("yA1Q").Component)}.call(this,n("yA1Q").h)},vgRm:function(t,e,n){"use strict";n("D61w")}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{OaM3:function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return i}));var o=!("undefined"==typeof window||!window),i=function(e,n){void 0===n&&(n="body"),o&&document.querySelector(n)&&(document.querySelector(n).style.paddingBottom=e)}},Z7RZ:function(e,n,t){"use strict";function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var r=function(e){function n(n){var t;return i(o(t=e.call(this,n)||this),"noop",(function(e,n){n&&n.call(this)})),i(o(t),"done",(function(){var e=t.base,n=t.props,o=n.afterEnter,i=n.afterLeave;o=o||t.noop,i=i||t.noop,n.visible?o(e):(i(e),setTimeout((function(){return t.setState({isShow:!1})})))})),t.state={isShow:n.instant},t.noop=t.noop.bind(o(t)),t}var t,r;r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.cssAnimation=function(e){var n=this,t=this.props,o=t.name;if(t.visible){var i,r=[o,o+"-enter",o+"-enter-active"];(i=e.classList).add.apply(i,r),setTimeout((function(){n.removeClassName(e,[o+"-enter"])})),this.bindAnimationEvent(e,r)}else{var a,s=[o+"-leave-active"];(a=e.classList).add.apply(a,s),setTimeout((function(){s.push(o+"-leave"),e.classList.add(o+"-leave")})),this.bindAnimationEvent(e,s)}},a.bindAnimationEvent=function(e,n){var t=this,o=this.transitionend();this.animate(e),e.addEventListener(o,(function(){t.removeClassName(e,n),t.animate(e,!0)}))},a.transitionend=function(){var e,n=document.createElement("noop"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in t)if(void 0!==n.style[e])return t[e]},a.removeClassName=function(e,n){var t;e&&(t=e.classList).remove.apply(t,n)},a.animate=function(e,n){var t=this;void 0===n&&(n=!1);var o=this.props,i=o.beforeEnter,r=o.enter,a=o.beforeLeave,s=o.leave,c=o.css,l=o.name;i=i||this.noop,r=r||this.noop,a=a||this.noop,s=s||this.noop,o.visible?(i(e),l&&c?n?this.done():r(e):setTimeout((function(){return r(e,t.done)}))):(a(e),l&&c?n?this.done():s(e):setTimeout((function(){return s(e,t.done)})))},a.animationStart=function(){var e=this.base,n=this.props;n.name&&n.css?this.cssAnimation(e):this.animate(e)},a.componentWillReceiveProps=function(e){e.visible&&this.setState({isShow:!0})},a.componentDidUpdate=function(e){e.visible!==this.props.visible&&this.animationStart()},a.componentDidMount=function(){var e=this;this.props.visible&&!this.state.isShow&&this.setState({isShow:!0},(function(){e.animationStart()}))},a.render=function(e,n){var t=e.children;return n.isShow&&t[0]?t[0]:null},n}(t("4dxh").Component);i(r,"defaultProps",{visible:!1,instant:!1,css:!0}),n.a=r},dwTO:function(e,n,t){"use strict";t("ruW5"),t("8U1p"),t("cz+e"),t("gJAl")},gJAl:function(){},gLcW:function(e,n,t){"use strict";(function(e){function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}var s,c=t("4dxh"),l=t("OaM3"),u=t("u6Ku"),f=t("Z7RZ"),p=l.a&&document.body,d=p,h={title:"",message:"",align:"center",showCancel:!1,confirmContent:"确定",cancelContent:"取消",mask:!0,visible:!0},m=function(n){if(!l.a)return null;p&&s&&(Object(c.render)("",p,s),s=null);var t=a({},h,n);s=Object(c.render)(e(v,t),p)},v=function(n){function t(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return r(o(e=n.call.apply(n,[this].concat(i))||this),"state",{visible:e.props.visible,loading:{confirm:!1,cancel:!1}}),r(o(e),"destroy",(function(){s&&p&&(Object(c.render)("",p,s),s=null)})),e}var i,a;a=n,(i=t).prototype=Object.create(a.prototype),i.prototype.constructor=i,i.__proto__=a;var l=t.prototype;return l.componentDidUpdate=function(){d&&(d.style.overflow=this.props.visible?"hidden":"")},l.handleAction=function(e){var n=this;if(!this.state.loading[e]){var t=this.props.beforeClose;t?(this.setState((function(n){return n.loading[e]=!0,{loading:n.loading}})),t(e,(function(t){!1!==t&&n.state.loading[e]&&(n.onClose(e),n.setState({loading:{confirm:!1,cancel:!1}}))}))):this.onClose(e)}},l.onClose=function(e){var n=this;"confirm"===e?this.props.onConfirm&&this.props.onConfirm():this.props.onCancel&&this.props.onCancel(),setTimeout((function(){return n.setState({visible:!1})}))},l.render=function(n,t){var o=n.prefix,i=n.title,r=n.message,a=n.align,s=n.children,c=n.showCancel,l=n.confirmContent,p=n.cancelContent,d=n.mask,h=t.visible,m=t.loading,v=i&&e("div",{className:o+"__box__header"},i),b=(!(!s||!s.length)||r)&&e("div",{className:o+"__box__main "+o+"__box__main--"+a},s&&s.length>0?s:e("div",{dangerouslySetInnerHTML:{__html:r},className:o+"__box__main "+o+"__box__main--"+a})),y=m.confirm,_=m.cancel,w=e("div",{className:o+"__btngroup"},c&&e("div",{className:o+"__btn "+o+"__btn--cancel",onClick:this.handleAction.bind(this,"cancel")},e(u.a,{type:"cancel",block:!0,loading:_},p)),e("div",{className:o+"__btn "+o+"__btn--confirm",onClick:this.handleAction.bind(this,"confirm")},e(u.a,{type:"primary",block:!0,loading:y},l)));return e("div",{className:o},d&&e("div",{className:o+"__mask"}),e(f.a,{visible:h,name:"caf-modal-fade",afterLeave:this.destroy},e("div",{className:o+"__box"},v,b,w)))},t}(c.Component);r(v,"defaultProps",{prefix:"caf-modal",align:"center",showCancel:!1,confirmContent:"确定",cancelContent:"取消",mask:!0,visible:!0}),r(v,"alert",(function(e){m(e)})),r(v,"confirm",(function(e){m(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(t,!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({showCancel:!0},e))})),n.a=v}).call(this,t("4dxh").h)},hUQf:function(e,n,t){"use strict";t("ruW5"),t("8U1p"),t("cz+e")},qoy7:function(e,n,t){"use strict";t.r(n),function(e){function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,"default",(function(){return s}));t("hUQf");var r=t("u6Ku"),a=(t("dwTO"),t("gLcW")),s=function(n){function t(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i(o(e=n.call.apply(n,[this].concat(r))||this),"showModal",(function(e){var n=void 0===e?{}:e,t=n.type,o=void 0===t?"confirm":t,i=n.title,r=void 0===i?"标题":i,s=n.message,c=void 0===s?"模态框内容":s,l=n.beforeClose,u=void 0===l?null:l;return function(){a.a[o]({title:r,message:c,beforeClose:u})}})),i(o(e),"beforeClose",(function(e,n){console.log(e),"confirm"===e?(console.log("confirm close in 2 sec"),setTimeout((function(){return n()}),2e3)):"cancel"===e&&(console.log("cancel won't close until click confirm"),n(!1))})),e}var s,c;return c=n,(s=t).prototype=Object.create(c.prototype),s.prototype.constructor=s,s.__proto__=c,t.prototype.render=function(){return e("div",{class:"caf-demo-block"},e("p",{class:"caf-demo-title"},"modal 类型"),e("div",{class:"caf-demo-buttons"},e(r.a,{onClick:this.showModal()},"确认模态框"),e(r.a,{onClick:this.showModal({type:"alert"})},"警告模态框")),e("p",{class:"caf-demo-title"},"modal 回调"),e(r.a,{onClick:this.showModal({beforeClose:this.beforeClose})},"带回调模态框"),e("p",{class:"caf-demo-intro"},"在回调中返回  ",e("b",null,"false")," 会让模态框不关闭，而不返回或返回 ",e("b",null,"true")," 则会关闭"))},t}(t("4dxh").Component)}.call(this,t("4dxh").h)}}]);
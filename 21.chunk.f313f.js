(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"+I+c":function(t,e,n){"use strict";function o(t,e){if(null==t)return{};var n,o,r={},a=Object.keys(t);for(o=0;o<a.length;o++)e.indexOf(n=a[o])>=0||(r[n]=t[n]);return r}n.d(e,"a",(function(){return o}))},"0+le":function(t,e,n){"use strict";(function(t){var o=n("Fcif"),r=n("+I+c"),a=n("0942"),i=n("7L9N"),c=n("mK0O"),s=n("4dxh"),u=n("O94r"),l=n.n(u),h=10,f=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,Object(c.a)(Object(a.a)(t),"state",{status:"normal",height:0}),Object(c.a)(Object(a.a)(t),"pullrefresh",Object(s.createRef)()),Object(c.a)(Object(a.a)(t),"pullrefresh_loading",Object(s.createRef)()),Object(c.a)(Object(a.a)(t),"headHeight",50),Object(c.a)(Object(a.a)(t),"startX",void 0),Object(c.a)(Object(a.a)(t),"startY",void 0),Object(c.a)(Object(a.a)(t),"deltaX",void 0),Object(c.a)(Object(a.a)(t),"deltaY",void 0),Object(c.a)(Object(a.a)(t),"offsetX",void 0),Object(c.a)(Object(a.a)(t),"offsetY",void 0),Object(c.a)(Object(a.a)(t),"direction",void 0),Object(c.a)(Object(a.a)(t),"touchStart",(function(e){t.resetTouchStatus(),t.startX=e.touches[0].clientX,t.startY=e.touches[0].clientY})),Object(c.a)(Object(a.a)(t),"touchMove",(function(e){var n,o,r=e.touches[0];t.deltaX=r.clientX-t.startX,t.deltaY=r.clientY-t.startY,t.offsetX=Math.abs(t.deltaX),t.offsetY=Math.abs(t.deltaY),t.direction=t.direction||((n=t.offsetX)>(o=t.offsetY)&&n>h?"horizontal":o>n&&o>h?"vertical":"")})),Object(c.a)(Object(a.a)(t),"resetTouchStatus",(function(){t.direction="",t.deltaX=0,t.deltaY=0,t.offsetX=0,t.offsetY=0})),Object(c.a)(Object(a.a)(t),"onTouchStart",(function(e){!t.untouchable()&&t.getCeiling()&&t.touchStart(e)})),Object(c.a)(Object(a.a)(t),"ceiling",void 0),Object(c.a)(Object(a.a)(t),"onTouchMove",(function(e){t.untouchable()||(t.touchMove(e),!t.ceiling&&t.getCeiling()&&(t.startY=e.touches[0].clientY,t.deltaY=0),t.ceiling&&t.deltaY>=0&&"vertical"===t.direction&&(t.setStatus(t.ease(t.deltaY)),e.cancelable&&e.preventDefault()))})),Object(c.a)(Object(a.a)(t),"onTouchEnd",(function(){!t.untouchable()&&t.ceiling&&t.deltaY&&("loosing"===t.state.status?(t.props.onRefresh&&t.props.onRefresh(),t.setStatus(t.headHeight,!0)):t.setStatus(0))})),t}Object(i.a)(n,e);var u=n.prototype;return u.componentDidMount=function(){if(this.pullrefresh){var t=this.pullrefresh.current;t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchEnd,!1)}},u.componentWillUnmount=function(){if(this.pullrefresh){var t=this.pullrefresh.current;t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchEnd,!1)}},u.untouchable=function(){return"loading"===this.state.status||"success"===this.state.status||this.props.disabled},u.getCeiling=function(){return this.ceiling=0===(document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop),this.ceiling},u.componentWillReceiveProps=function(t){t.loading?this.setStatus(t.loading?this.headHeight:0,t.loading):this.setStatus(0)},u.ease=function(t){var e=this.headHeight;return t<e?t:t<2*e?Math.round(e+(t-e)/2):t>1.5*e?1.5*e:Math.round(1.5*e+(t-2*e)/4)},u.setStatus=function(t,e){var n,o;void 0===e&&(e=!1),(n=this.pullrefresh_loading.current).style.transform="translate3d(0, "+(o=t)+"px, 0)",n.style.msTransform="translate3d(0, "+o+"px, 0)",n.style.MozTransform="translate3d(0, "+o+"px, 0)",n.style.webkitTransform="translate3d(0, "+o+"px, 0)";var r=e?"loading":0===t?"normal":t<this.headHeight?"pulling":"loosing";r!==this.state.status&&this.setState({status:r})},u.render=function(e){var n=e.prefix,a=e.className,i=e.children,c=Object(r.a)(e,["prefix","className","children"]);return t("div",Object(o.a)({className:l()(n,a),ref:this.pullrefresh},c),t("span",{className:n+"-loading",ref:this.pullrefresh_loading}),i)},n}(s.Component);Object(c.a)(f,"defaultProps",{prefix:"caf-pullref"}),e.a=f}).call(this,n("4dxh").h)},"0942":function(t,e,n){"use strict";function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return o}))},"7L9N":function(t,e,n){"use strict";function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return o}))},ASNn:function(t,e,n){"use strict";n("VN0Z")},O94r:function(t,e){var n;!function(){"use strict";function o(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var a=typeof n;if("string"===a||"number"===a)t.push(n);else if(Array.isArray(n)&&n.length){var i=o.apply(null,n);i&&t.push(i)}else if("object"===a)for(var c in n)r.call(n,c)&&n[c]&&t.push(c)}}return t.join(" ")}var r={}.hasOwnProperty;t.exports?(o.default=o,t.exports=o):void 0===(n=function(){return o}.apply(e,[]))||(t.exports=n)}()},VN0Z:function(){},mK0O:function(t,e,n){"use strict";function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return o}))},zLq5:function(t,e,n){"use strict";n.r(e),function(t){function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"default",(function(){return i}));n("ASNn");var a=n("0+le"),i=function(e){function n(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r(o(t=e.call.apply(e,[this].concat(a))||this),"state",{count:1,loading:!1}),r(o(t),"onRefresh",(function(){setTimeout((function(){console.log("刷新成功"),t.setState({loading:!1,count:t.state.count+1})}),2e3)})),t}var i,c;return c=e,(i=n).prototype=Object.create(c.prototype),i.prototype.constructor=i,i.__proto__=c,n.prototype.render=function(e,n){return function(t){if(null==t)throw new TypeError("Cannot destructure undefined")}(e),t(a.a,{loading:n.loading,onRefresh:this.onRefresh},t("div",{class:"caf-demo-block",style:"min-height: 500px;"},"count: ",n.count))},n}(n("4dxh").Component)}.call(this,n("4dxh").h)}}]);
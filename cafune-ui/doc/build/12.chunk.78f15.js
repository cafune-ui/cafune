webpackJsonp([12],{WWU9:function(t,e,r){"use strict";function n(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return"swiperItem"===t.nodeName.displayName}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var d,v,y,w,b=r("EBst"),m=r("9qb7"),g=r.n(m),O=(r("5D9O"),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}),j=(v=d=function(t){function e(){return i(this,t.apply(this,arguments))}return o(e,t),e.prototype.render=function(t){var e=t.prefix,r=t.className,i=t.children,o=t.width,a=n(t,["prefix","className","children","width"]);return Object(b.h)("div",O({className:g()(e+"-item",r),style:{width:o}},a),i)},e}(b.Component),d.displayName="swiperItem",d.defaultProps={prefix:"caf-swiper-container"},v),x=j,P=r("xGWA"),C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E=(w=y=function(t){function e(){var r,n,i;s(this,e);for(var o=arguments.length,a=Array(o),p=0;p<o;p++)a[p]=arguments[p];return r=n=c(this,t.call.apply(t,[this].concat(a))),n.state={current:n.props.initialIndex},n.total=0,n.size=0,n.swiperCurrent=0,n.resize=function(){var t=n.swiperContainer.current;if(t){var e=t.getBoundingClientRect();n.size=e.width}var r=n.swiperList.current;r&&(r.style.width=n.size*n.swiperData.length+"px")},n.isSwiping=!1,n.offsetX=0,n.onSwiperClick=function(t){if(n.offsetX>0)return t.preventDefault(),t.stopPropagation(),!1},n.readyMoving=function(t){n.startTimeStamp=Date.now(),n.clearAutoPlay(),n.isSwiping=!0;var e=Object(P.a)(t);n.startX=e.clientX},n.startMoving=function(t){if(n.isSwiping){var e=Object(P.a)(t);n.deltaX=e.clientX-n.startX,n.offsetX=Math.abs(n.deltaX),n.direction=n.deltaX>=0?-1:1,t.preventDefault(),t.stopPropagation(),n.moveTo({offset:n.state.current*n.size*-1+n.deltaX+"px"})}},n.endMoving=function(){if(n.isSwiping){n.isSwiping=!1;var t=n.state.current+n.direction>=0&&n.state.current+n.direction<n.swiperData.length;n.offsetX<n.size/4||!t?n.moveTo({ind:n.state.current}):t&&n.moveTo({ind:n.state.current+n.direction}),setTimeout(function(){return n.offsetX=0},500)}},n.swiperList=Object(b.createRef)(),n.swiperContainer=Object(b.createRef)(),i=r,c(n,i)}return p(e,t),e.prototype.getSwiperData=function(t){var e=this,r=[];return t.forEach(function(t,n){if(t&&u(t)){r.push({id:n,actived:n===e.state.current,content:t.children,className:t.attributes.className})}}),r},e.prototype.componentDidMount=function(){this.resize(),window.addEventListener("resize",this.resize);var t=this.swiperList.current;t&&(t.addEventListener("click",this.onSwiperClick,!0),t.addEventListener(P.b.down,this.readyMoving),t.addEventListener(P.b.move,this.startMoving),t.addEventListener(P.b.up,this.endMoving),t.addEventListener(P.b.out,this.endMoving)),this.moveTo({ind:this.state.current}),this.autoPlay()},e.prototype.clearAutoPlay=function(){this.autoPlayTimer&&clearTimeout(this.autoPlayTimer)},e.prototype.autoPlay=function(){var t=this,e=this.props,r=e.autoplay,n=e.intervel;r&&this.swiperData.length>1&&(this.clearAutoPlay(),this.autoPlayTimer=setTimeout(function(){t.swiperCurrent=t.state.current+1;var e=t.state.current;e=e===t.swiperData.length-1?0:e+1,t.moveTo({ind:e})},n))},e.prototype.componentWillUnmount=function(){this.clearAutoPlay();var t=this.swiperList.current;t&&(t.removeEventListener("click",this.onSwiperClick,!0),t.removeEventListener(P.b.down,this.readyMoving),t.removeEventListener(P.b.move,this.startMoving),t.removeEventListener(P.b.up,this.endMoving),t.removeEventListener(P.b.out,this.endMoving)),window.removeEventListener("resize",this.resize)},e.prototype.moveTo=function(t){var e=this,r=t.ind,n=t.offset;if(this.clearAutoPlay(),this.swiperList&&this.swiperList.current){var i=this.swiperList.current;void 0!==r?(i.style.transitionDuration="500ms",i.style.transform="translate3d("+r*(1/this.total)*-100+"%, 0, 0 )",this.setState({current:r},function(){e.autoPlay(),e.props.onChange&&e.props.onChange(r)})):n&&(i.style.transitionDuration="0ms",i.style.transform="translate3d("+n+", 0, 0 )")}},e.prototype.renderIndicators=function(t){var e=this;return t&&t.length>1?Array.apply(void 0,Array(t.length)).map(function(t,r){return Object(b.h)("span",{key:r,className:"caf-swiper-indicator-item","data-status":r===e.state.current?1:0,onClick:function(){return e.moveTo({ind:r})}})}):null},e.prototype.renderItems=function(t){var e=this;if(t&&t.length)return t.map(function(r){return Object(b.h)(x,{key:r.id,onItemClick:e.onItemClick,actived:r.actived,width:1/t.length*100+"%"},r.content)})},e.prototype.renderSwipers=function(){var t=this.props,e=t.prefix,r=t.children,n=t.className,i=t.showIndicators,o=t.customIndicator,s=a(t,["prefix","children","className","showIndicators","customIndicator"]);if(r&&r.length){var c=this.getSwiperData(r);return this.swiperData=c,this.total=c.length,Object(b.h)("div",C({className:g()(e,n),ref:this.swiperContainer},s),Object(b.h)("div",{className:e+"-container",ref:this.swiperList},this.renderItems(c)),o||i&&Object(b.h)("div",{className:e+"-indicator"},this.renderIndicators(c)))}return null},e.prototype.render=function(){return this.renderSwipers()},e}(b.Component),y.SwiperItem=x,y.defaultProps={autoplay:!0,intervel:3e3,initialIndex:0,showIndicators:!0},w),I=E;r.d(e,"default",function(){return k});var L=I.SwiperItem,S=Object(b.h)("p",null,"默认"),T=Object(b.h)("p",null,"自定义指示器"),k=function(t){function e(){var r,n,i;l(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=f(this,t.call.apply(t,[this].concat(a))),n.state={current:1},n.change=function(t){n.setState({current:t})},i=r,f(n,i)}return h(e,t),e.prototype.renderCustom=function(){var t=this.state.current;return Object(b.h)("div",{style:"padding: 4px 10px;position: absolute;right: 10px;bottom:10px;background: rgba(0,0,0, .6);color: #fff;font-size:12px;"},t+1,"/4")},e.prototype.render=function(){return Object(b.h)("div",{class:""},S,Object(b.h)(I,{initialIndex:0,showIndicators:!0,autoplay:!0,intervel:3e3},Array.apply(void 0,Array(4)).map(function(t,e){return Object(b.h)(L,{key:e},Object(b.h)("div",{style:"height: 80px;text-align:center;line-height: 80px;"},e+1))})),T,Object(b.h)(I,{onChange:this.change,customIndicator:this.renderCustom()},Array.apply(void 0,Array(4)).map(function(t,e){return Object(b.h)(L,{key:e},Object(b.h)("div",{style:"height: 80px;text-align:center;line-height: 80px;"},e+1))})))},e}(b.Component)}});
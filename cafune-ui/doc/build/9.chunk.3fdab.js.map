{"version":3,"sources":["webpack:///9.chunk.3fdab.js","webpack:///../components/toast/index.jsx","webpack:///./pages/components/toast/index.js"],"names":["webpackJsonp","xe2t","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","getUuid","type","Date","now","seed","show","_ref3","content","_ref3$duration","duration","undefined","durationDefault","icon","_ref3$type","onClose","_ref3$multiple","multiple","isBrowser","notifyContainerNode","createNotifyContainerNode","hide","uid","props","toast","render","preact_min","toast_Toast","ToastList","node","success","_ref4","arguments","length","_ref4$icon","error","_ref5","_ref5$icon","loading","_ref6","_ref6$content","_ref6$duration","toastid","comp","close","i","toast__classCallCheck","instance","Constructor","toast__possibleConstructorReturn","toast__inherits","defineProperty","_class","toast__temp","toast__initialiseProps","components_button","components_icon","isomorphic","Toast","_Component","_this","this","clearCloseTimer","closeTimer","clearTimeout","componentDidMount","_this2","_props$duration","setTimeout","componentWillUnmount","_ref","_ref2","prefix","shouldClose","toastIcon","size","className","data-type","data-status","Component","defaultProps","_this3","state","_props","setState","cleanTimer","document","querySelector","bodyNode","body","div","createElement","appendChild","d","toast_ToastComp","toast__ref2","class","toast__ref3","ToastComp","_temp","_ret","_len","args","Array","_key","apply","concat","showToast","_ref$kind","kind","mutiple","components_toast","onClick","alert"],"mappings":"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","file":"9.chunk.3fdab.js","sourcesContent":["webpackJsonp([9],{\n\n/***/ \"xe2t\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../components/button/index.jsx\nvar components_button = __webpack_require__(\"zcpj\");\n\n// EXTERNAL MODULE: ./node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"EBst\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ../node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(\"5D9O\");\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: ../components/icon/index.jsx\nvar components_icon = __webpack_require__(\"zHj6\");\n\n// EXTERNAL MODULE: ../util/isomorphic.js\nvar isomorphic = __webpack_require__(\"2IOQ\");\n\n// CONCATENATED MODULE: ../components/toast/index.jsx\nvar _class, toast__temp, toast__initialiseProps;\n\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar seed = 0;\nfunction getUuid(type) {\n  var now = Date.now();\n  return 'cToast_' + type + '_' + now + '_' + seed++;\n}\nvar notifyContainerNode = void 0;\nvar durationDefault = 2000;\nvar ToastList = {};\n// const browserPrefixs = ['-webkit-', '-moz-', '-o-', ''];\n/**\n * 消息提示\n * @example\n * - 不同类型提示\n *\n *  ```js\n *  Toast.show({ content: 'show' });\n *  Toast.success({ content: 'success' });\n *\n *  Toast.error({ content: 'error' });\n *\n *  Toast.loading({ content: 'loading' });\n *  ```\n * - 自定义时长提示\n *\n *  ```javascript\n *  Toast.show({ content: '3秒之后消失', duration: 3000 })\n *  ```\n * - 带回调函数提示\n *\n *  ```javascript\n *  Toast.show({ content: '弹出消失alert', onClose() { alert('消失！') } })\n *  ```\n * - 自定义取消Toast\n * 当 duration 为0时，toast 需要调用`hide` 方法才能让toast 消失，loading 方法默认duration 为0\n *\n *  ```javascript\n * const toast = Toast.loading({ content: '弹出消失alert', onClose() { alert('消失！') } });\n * Toast.hide(toast);\n * ```\n */\n\nvar toast_Toast = (toast__temp = _class = function (_Component) {\n  _inherits(Toast, _Component);\n\n  function Toast(props) {\n    _classCallCheck(this, Toast);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    toast__initialiseProps.call(_this);\n\n    var uid = _this.props.uid;\n\n    ToastList[uid] = { comp: _this };\n    return _this;\n  }\n\n  Toast.prototype.clearCloseTimer = function clearCloseTimer() {\n    if (this.closeTimer) {\n      clearTimeout(this.closeTimer);\n      this.closeTimer = null;\n    }\n  };\n\n  Toast.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    var _props$duration = this.props.duration,\n        duration = _props$duration === undefined ? durationDefault : _props$duration;\n\n    if (duration > 0) {\n      this.closeTimer = setTimeout(function () {\n        _this2.close();\n      }, duration);\n    }\n  };\n\n  Toast.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.clearCloseTimer();\n  };\n\n  Toast.prototype.render = function render(_ref, _ref2) {\n    var prefix = _ref.prefix,\n        icon = _ref.icon,\n        content = _ref.content,\n        type = _ref.type;\n    var shouldClose = _ref2.shouldClose;\n\n    var toastIcon = null;\n    if (icon) {\n      if (typeof icon === 'string') {\n        toastIcon = Object(preact_min[\"h\"])(components_icon[\"a\" /* default */], { icon: icon, size: '42px' });\n      } else if (icon.icon) {\n        toastIcon = Object(preact_min[\"h\"])(components_icon[\"a\" /* default */], { icon: icon.icon, size: icon.size || '42px' });\n      }\n    }\n    return Object(preact_min[\"h\"])(\n      'div',\n      {\n        className: prefix,\n        'data-type': type,\n        'data-status': shouldClose ? 0 : 1\n      },\n      toastIcon,\n      Object(preact_min[\"h\"])(\n        'p',\n        { className: prefix + '-content' },\n        content\n      )\n    );\n  };\n\n  return Toast;\n}(preact_min[\"Component\"]), _class.show = show, _class.success = success, _class.error = error, _class.loading = loading, _class.hide = hide, _class.defaultProps = {\n  duration: 2000,\n  type: 'normal',\n  multiple: false,\n  prefix: 'caf-toast'\n}, toast__initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.state = {\n    shouldClose: false\n  };\n\n  this.close = function () {\n    var _props = _this3.props,\n        onClose = _props.onClose,\n        uid = _props.uid;\n\n    if (ToastList[uid]) {\n      _this3.clearCloseTimer();\n      _this3.setState({\n        shouldClose: true\n      });\n      onClose && onClose();\n      var node = ToastList[uid].node;\n      delete ToastList[uid];\n      /* istanbul ignore next */\n      _this3.cleanTimer = setTimeout(function () {\n        /* istanbul ignore else */\n        if (notifyContainerNode) {\n          Object(preact_min[\"render\"])('', notifyContainerNode, node);\n        }\n        clearTimeout(_this3.cleanTimer);\n        _this3.cleanTimer = null;\n      }, 600);\n    }\n  };\n}, toast__temp);\n/**\n * 创建toast 容器\n */\n\nvar createNotifyContainerNode = function createNotifyContainerNode() {\n  var notifyContainerClass = 'caf-notify';\n  var notifyContainerNode = document.querySelector('.' + notifyContainerClass);\n\n  if (!notifyContainerNode) {\n    var bodyNode = document.body;\n    var div = document.createElement('div');\n    div.className = notifyContainerClass;\n    notifyContainerNode = bodyNode.appendChild(div);\n  }\n\n  return notifyContainerNode;\n};\n\n/**\n * 基础Toast（不包含图标\n */\nfunction show(_ref3) {\n  var content = _ref3.content,\n      _ref3$duration = _ref3.duration,\n      duration = _ref3$duration === undefined ? durationDefault : _ref3$duration,\n      icon = _ref3.icon,\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'normal' : _ref3$type,\n      onClose = _ref3.onClose,\n      _ref3$multiple = _ref3.multiple,\n      multiple = _ref3$multiple === undefined ? false : _ref3$multiple;\n\n  if (!isomorphic[\"a\" /* isBrowser */]) return null;\n  notifyContainerNode = createNotifyContainerNode();\n  if (!multiple) {\n    // notifyContainerNode.innerHTML = '';\n    hide();\n  }\n  var uid = getUuid(type);\n  var props = {\n    content: content,\n    icon: icon,\n    duration: duration,\n    onClose: onClose,\n    type: type,\n    uid: uid\n  };\n  var toast = Object(preact_min[\"render\"])(Object(preact_min[\"h\"])(toast_Toast, props), notifyContainerNode);\n  ToastList[uid].node = toast;\n  return uid;\n}\n/**\n * 成功Toast\n */\nfunction success() {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      content = _ref4.content,\n      duration = _ref4.duration,\n      _ref4$icon = _ref4.icon,\n      icon = _ref4$icon === undefined ? 'success' : _ref4$icon,\n      onClose = _ref4.onClose;\n\n  return show({ content: content, duration: duration, icon: icon, type: 'success', onClose: onClose });\n}\n/**\n * 失败Toast\n */\nfunction error() {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      content = _ref5.content,\n      duration = _ref5.duration,\n      _ref5$icon = _ref5.icon,\n      icon = _ref5$icon === undefined ? 'error' : _ref5$icon,\n      onClose = _ref5.onClose;\n\n  return show({ content: content, duration: duration, icon: icon, type: 'error', onClose: onClose });\n}\n\n/**\n * 加载中Toast\n */\nfunction loading() {\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$content = _ref6.content,\n      content = _ref6$content === undefined ? '加载中' : _ref6$content,\n      _ref6$duration = _ref6.duration,\n      duration = _ref6$duration === undefined ? 0 : _ref6$duration,\n      onClose = _ref6.onClose;\n\n  return show({ content: content, duration: duration, type: 'loading', onClose: onClose });\n}\n\nfunction hide(toastid) {\n  if (!isomorphic[\"a\" /* isBrowser */]) return null;\n  if (toastid && ToastList[toastid]) {\n    ToastList[toastid].comp.close(true);\n  } else {\n    for (var i in ToastList) {\n      ToastList[i].comp.close(true);\n    }\n  }\n}\n\n// export const Toast = {\n//   show,\n//   success,\n//   error,\n//   loading,\n//   hide\n// };\n\n/* harmony default export */ var components_toast = (toast_Toast);\n// CONCATENATED MODULE: ./pages/components/toast/index.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return toast_ToastComp; });\n\n\n\n\nfunction toast__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction toast__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction toast__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar toast__ref2 = Object(preact_min[\"h\"])(\n  'p',\n  { 'class': 'caf-demo-title' },\n  'toast \\u7C7B\\u578B'\n);\n\nvar toast__ref3 = Object(preact_min[\"h\"])(\n  'p',\n  { 'class': 'caf-demo-title' },\n  '\\u5B9A\\u4E49\\u65F6\\u957F'\n);\n\nvar _ref4 = Object(preact_min[\"h\"])(\n  'p',\n  { 'class': 'caf-demo-button-desc' },\n  '(4s)'\n);\n\nvar _ref5 = Object(preact_min[\"h\"])(\n  'p',\n  { 'class': 'caf-demo-title' },\n  '\\u5B9A\\u4E49\\u5173\\u95ED\\u56DE\\u8C03'\n);\n\nvar _ref6 = Object(preact_min[\"h\"])(\n  'p',\n  { 'class': 'caf-demo-title' },\n  '\\u5B9A\\u4E49\\u56FE\\u6807'\n);\n\nvar toast_ToastComp = function (_Component) {\n  toast__inherits(ToastComp, _Component);\n\n  function ToastComp() {\n    var _temp, _this, _ret;\n\n    toast__classCallCheck(this, ToastComp);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = toast__possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.showToast = function () {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$kind = _ref.kind,\n          kind = _ref$kind === undefined ? 'show' : _ref$kind,\n          duration = _ref.duration,\n          icon = _ref.icon,\n          onClose = _ref.onClose,\n          mutiple = _ref.mutiple;\n\n      return function () {\n        components_toast[kind]({\n          content: kind,\n          duration: duration,\n          icon: icon,\n          onClose: onClose,\n          mutiple: mutiple\n        });\n      };\n    }, _temp), toast__possibleConstructorReturn(_this, _ret);\n  }\n\n  ToastComp.prototype.render = function render() {\n    return Object(preact_min[\"h\"])(\n      'div',\n      null,\n      Object(preact_min[\"h\"])(\n        'div',\n        { 'class': 'caf-demo-block' },\n        toast__ref2,\n        Object(preact_min[\"h\"])(\n          components_button[\"a\" /* default */],\n          { onClick: this.showToast() },\n          '\\u5E38\\u89C4Toast'\n        ),\n        Object(preact_min[\"h\"])(\n          components_button[\"a\" /* default */],\n          { onClick: this.showToast({ kind: 'loading' }) },\n          '\\u52A0\\u8F7DToast'\n        ),\n        Object(preact_min[\"h\"])(\n          components_button[\"a\" /* default */],\n          { type: 'warning', onClick: this.showToast({ kind: 'error' }) },\n          '\\u9519\\u8BEFToast'\n        ),\n        Object(preact_min[\"h\"])(\n          components_button[\"a\" /* default */],\n          { type: 'primary', onClick: this.showToast({ kind: 'success' }) },\n          '\\u6210\\u529FToast'\n        )\n      ),\n      Object(preact_min[\"h\"])(\n        'div',\n        { 'class': 'caf-demo-block' },\n        toast__ref3,\n        Object(preact_min[\"h\"])(\n          components_button[\"a\" /* default */],\n          { onClick: this.showToast({ duration: 4000 }) },\n          '\\u81EA\\u5B9A\\u4E49\\u65F6\\u957F',\n          _ref4\n        )\n      ),\n      Object(preact_min[\"h\"])(\n        'div',\n        { 'class': 'caf-demo-block' },\n        _ref5,\n        Object(preact_min[\"h\"])(\n          components_button[\"a\" /* default */],\n          {\n            onClick: this.showToast({\n              onClose: function onClose() {\n                alert('关闭');\n              }\n            })\n          },\n          '\\u56DE\\u8C03'\n        )\n      ),\n      Object(preact_min[\"h\"])(\n        'div',\n        { 'class': 'caf-demo-block' },\n        _ref6,\n        Object(preact_min[\"h\"])(\n          components_button[\"a\" /* default */],\n          {\n            onClick: this.showToast({\n              icon: 'like'\n            })\n          },\n          '\\u5185\\u7F6E\\u56FE\\u6807'\n        ),\n        Object(preact_min[\"h\"])(\n          components_button[\"a\" /* default */],\n          {\n            onClick: this.showToast({\n              icon: {\n                icon: 'https://image.flaticon.com/icons/png/128/2026/2026462.png',\n                size: '32px'\n              }\n            })\n          },\n          '\\u56FE\\u7247\\u56FE\\u6807'\n        )\n      )\n    );\n  };\n\n  return ToastComp;\n}(preact_min[\"Component\"]);\n\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 9.chunk.3fdab.js","import { render, Component } from 'preact';\nimport PropTypes from 'prop-types';\nimport Icon from '../icon';\nimport { isBrowser } from '../../util/isomorphic';\nlet seed = 0;\nfunction getUuid(type) {\n  const now = Date.now();\n  return `cToast_${type}_${now}_${seed++}`;\n}\nlet notifyContainerNode;\nconst durationDefault = 2000;\nconst ToastList = {};\n// const browserPrefixs = ['-webkit-', '-moz-', '-o-', ''];\n/**\n * 消息提示\n * @example\n * - 不同类型提示\n *\n *  ```js\n *  Toast.show({ content: 'show' });\n *  Toast.success({ content: 'success' });\n *\n *  Toast.error({ content: 'error' });\n *\n *  Toast.loading({ content: 'loading' });\n *  ```\n * - 自定义时长提示\n *\n *  ```javascript\n *  Toast.show({ content: '3秒之后消失', duration: 3000 })\n *  ```\n * - 带回调函数提示\n *\n *  ```javascript\n *  Toast.show({ content: '弹出消失alert', onClose() { alert('消失！') } })\n *  ```\n * - 自定义取消Toast\n * 当 duration 为0时，toast 需要调用`hide` 方法才能让toast 消失，loading 方法默认duration 为0\n *\n *  ```javascript\n * const toast = Toast.loading({ content: '弹出消失alert', onClose() { alert('消失！') } });\n * Toast.hide(toast);\n * ```\n */\n\nclass Toast extends Component {\n  static show = show;\n  static success = success;\n  static error = error;\n  static loading = loading;\n  static hide = hide;\n  static propTypes = {\n    /**\n     * 提示内容\n     */\n    content: PropTypes.string.isRequired,\n    /**\n     * 提示时长(ms)，默认为2000ms\n     */\n    duration: PropTypes.number,\n    /**\n     * 自定义图标\n      */\n    icon: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n      icon: PropTypes.string,\n      size: PropTypes.string\n    })]),\n    /**\n     * toast 类型\n     */\n    type: PropTypes.oneOf(['normal', 'success', 'error', 'loading']),\n    /**\n     * 消失时回调函数\n     */\n    onClose: PropTypes.func,\n    /**\n     * 是否只显示一个toast，默认为false(`suceess` & `error` & `'loading'` 下默认为true)，将依次显示toast\n     */\n    multiple: PropTypes.bool\n  };\n  static defaultProps = {\n    duration: 2000,\n    type: 'normal',\n    multiple: false,\n    prefix: 'caf-toast'\n  };\n  constructor(props) {\n    super(props);\n    const { uid } = this.props;\n    ToastList[uid] = { comp: this };\n  }\n  state = {\n    shouldClose: false\n  };\n  closeTimer;\n  cleanTimer;\n  close = () => {\n    const { onClose, uid } = this.props;\n    if (ToastList[uid]) {\n      this.clearCloseTimer();\n      this.setState({\n        shouldClose: true\n      });\n      onClose && onClose();\n      const node = ToastList[uid].node;\n      delete ToastList[uid];\n      /* istanbul ignore next */\n      this.cleanTimer = setTimeout(() => {\n        /* istanbul ignore else */\n        if (notifyContainerNode) {\n          render('', notifyContainerNode, node);\n        }\n        clearTimeout(this.cleanTimer);\n        this.cleanTimer = null;\n      }, 600);\n    }\n  };\n  clearCloseTimer() {\n    if (this.closeTimer) {\n      clearTimeout(this.closeTimer);\n      this.closeTimer = null;\n    }\n  }\n  componentDidMount() {\n    const { duration = durationDefault } = this.props;\n    if (duration > 0) {\n      this.closeTimer = setTimeout(() => {\n        this.close();\n      }, duration);\n    }\n  }\n  componentWillUnmount() {\n    this.clearCloseTimer();\n  }\n  render({ prefix, icon, content, type }, { shouldClose }) {\n    let toastIcon = null;\n    if (icon) {\n      if (typeof icon === 'string') {\n        toastIcon = <Icon icon={icon} size=\"42px\" />\n      } else if (icon.icon){\n        toastIcon = <Icon icon={icon.icon} size={icon.size || '42px'} />\n      }\n    }\n    return (\n      <div\n        className={prefix}\n        data-type={type}\n        data-status={shouldClose ? 0 : 1}\n      >\n        {toastIcon}\n        <p className={`${prefix}-content`}>{content}</p>\n      </div>\n    );\n  }\n}\n/**\n * 创建toast 容器\n */\nconst createNotifyContainerNode = () => {\n  let notifyContainerClass = 'caf-notify';\n  let notifyContainerNode = document.querySelector(`.${notifyContainerClass}`);\n\n  if (!notifyContainerNode) {\n    const bodyNode = document.body;\n    const div = document.createElement('div');\n    div.className = notifyContainerClass;\n    notifyContainerNode = bodyNode.appendChild(div);\n  }\n\n  return notifyContainerNode;\n};\n\n/**\n * 基础Toast（不包含图标\n */\nfunction show({\n  content,\n  duration = durationDefault,\n  icon,\n  type = 'normal',\n  onClose,\n  multiple = false\n}) {\n  if (!isBrowser) return null;\n  notifyContainerNode = createNotifyContainerNode();\n  if (!multiple) {\n    // notifyContainerNode.innerHTML = '';\n    hide();\n  }\n  const uid = getUuid(type);\n  const props = {\n    content,\n    icon,\n    duration,\n    onClose,\n    type,\n    uid\n  };\n  let toast = render(<Toast {...props} />, notifyContainerNode);\n  ToastList[uid].node = toast;\n  return uid;\n}\n/**\n * 成功Toast\n */\nfunction success({ content, duration, icon = 'success', onClose } = {}) {\n  return show({ content, duration, icon, type: 'success', onClose });\n}\n/**\n * 失败Toast\n */\nfunction error({ content, duration, icon = 'error', onClose } = {}) {\n  return show({ content, duration, icon, type: 'error', onClose });\n}\n\n/**\n * 加载中Toast\n */\nfunction loading({ content = '加载中', duration = 0, onClose } = {}) {\n  return show({ content, duration, type: 'loading', onClose });\n}\n\nfunction hide(toastid) {\n  if (!isBrowser) return null;\n  if (toastid && ToastList[toastid]) {\n    ToastList[toastid].comp.close(true);\n  } else {\n    for (const i in ToastList) {\n      ToastList[i].comp.close(true);\n    }\n  }\n}\n\n// export const Toast = {\n//   show,\n//   success,\n//   error,\n//   loading,\n//   hide\n// };\n\nexport default Toast;\n\n\n\n// WEBPACK FOOTER //\n// ../components/toast/index.jsx","import { Toast, Button } from 'cafune';\nimport { Component } from 'preact';\nexport default class ToastComp extends Component {\n  showToast = ({ kind = 'show', duration, icon, onClose, mutiple } = {}) => {\n    return () => {\n      Toast[kind]({\n        content: kind,\n        duration,\n        icon,\n        onClose,\n        mutiple\n      });\n    };\n  };\n  render() {\n    return (\n      <div>\n        <div class=\"caf-demo-block\">\n          <p class=\"caf-demo-title\">toast 类型</p>\n          <Button onClick={this.showToast()}>常规Toast</Button>\n          <Button onClick={this.showToast({ kind: 'loading' })}>\n            加载Toast\n          </Button>\n          <Button type=\"warning\" onClick={this.showToast({ kind: 'error' })}>\n            错误Toast\n          </Button>\n          <Button type=\"primary\" onClick={this.showToast({ kind: 'success' })}>\n            成功Toast\n          </Button>\n        </div>\n        <div class=\"caf-demo-block\">\n          <p class=\"caf-demo-title\">定义时长</p>\n          <Button onClick={this.showToast({ duration: 4000 })}>\n            自定义时长<p class=\"caf-demo-button-desc\">(4s)</p>\n          </Button>\n        </div>\n        <div class=\"caf-demo-block\">\n          <p class=\"caf-demo-title\">定义关闭回调</p>\n          <Button\n            onClick={this.showToast({\n              onClose() {\n                alert('关闭');\n              }\n            })}\n          >\n            回调\n          </Button>\n        </div>\n        <div class=\"caf-demo-block\">\n          <p class=\"caf-demo-title\">定义图标</p>\n          <Button\n            onClick={this.showToast({\n              icon: 'like'\n            })}\n          >\n            内置图标\n          </Button>\n          <Button\n            onClick={this.showToast({\n              icon: {\n                icon:\n                  'https://image.flaticon.com/icons/png/128/2026/2026462.png',\n                size: '32px'\n              }\n            })}\n          >\n            图片图标\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./pages/components/toast/index.js"],"sourceRoot":""}
webpackJsonp([9],{xe2t:function(t,e,o){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t){return"cToast_"+t+"_"+Date.now()+"_"+T++}function r(t){var e=t.content,o=t.duration,n=void 0===o?w:o,i=t.icon,r=t.type,s=void 0===r?"normal":r,a=t.onClose,l=t.multiple,p=void 0!==l&&l;if(!j.a)return null;C=_(),p||u();var f=c(s),d={content:e,icon:i,duration:n,onClose:a,type:s,uid:f},h=Object(y.render)(Object(y.h)(g,d),C);return k[f].node=h,f}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.content,o=t.duration,n=t.icon;return r({content:e,duration:o,icon:void 0===n?"success":n,type:"success",onClose:t.onClose})}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.content,o=t.duration,n=t.icon;return r({content:e,duration:o,icon:void 0===n?"error":n,type:"error",onClose:t.onClose})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.content,o=void 0===e?"加载中":e,n=t.duration;return r({content:o,duration:void 0===n?0:n,type:"loading",onClose:t.onClose})}function u(t){if(!j.a)return null;if(t&&k[t])k[t].comp.close(!0);else for(var e in k)k[e].comp.close(!0)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var h,b,m,v=o("zcpj"),y=o("EBst"),O=(o("5D9O"),o("zHj6")),j=o("2IOQ"),T=0,C=void 0,w=2e3,k={},g=(b=h=function(t){function e(e){var o=n(this,t.call(this,e));return m.call(o),k[o.props.uid]={comp:o},o}return i(e,t),e.prototype.clearCloseTimer=function(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)},e.prototype.componentDidMount=function(){var t=this,e=this.props.duration,o=void 0===e?w:e;o>0&&(this.closeTimer=setTimeout(function(){t.close()},o))},e.prototype.componentWillUnmount=function(){this.clearCloseTimer()},e.prototype.render=function(t,e){var o=t.prefix,n=t.icon,i=t.content,c=t.type,r=e.shouldClose,s=null;return n&&("string"==typeof n?s=Object(y.h)(O.a,{icon:n,size:"42px"}):n.icon&&(s=Object(y.h)(O.a,{icon:n.icon,size:n.size||"42px"}))),Object(y.h)("div",{className:o,"data-type":c,"data-status":r?0:1},s,Object(y.h)("p",{className:o+"-content"},i))},e}(y.Component),h.show=r,h.success=s,h.error=a,h.loading=l,h.hide=u,h.defaultProps={duration:2e3,type:"normal",multiple:!1,prefix:"caf-toast"},m=function(){var t=this;this.state={shouldClose:!1},this.close=function(){var e=t.props,o=e.onClose,n=e.uid;if(k[n]){t.clearCloseTimer(),t.setState({shouldClose:!0}),o&&o();var i=k[n].node;delete k[n],t.cleanTimer=setTimeout(function(){C&&Object(y.render)("",C,i),clearTimeout(t.cleanTimer),t.cleanTimer=null},600)}}},b),_=function(){var t=document.querySelector(".caf-notify");if(!t){var e=document.body,o=document.createElement("div");o.className="caf-notify",t=e.appendChild(o)}return t},x=g;o.d(e,"default",function(){return N});var E=Object(y.h)("p",{class:"caf-demo-title"},"toast 类型"),z=Object(y.h)("p",{class:"caf-demo-title"},"定义时长"),P=Object(y.h)("p",{class:"caf-demo-button-desc"},"(4s)"),S=Object(y.h)("p",{class:"caf-demo-title"},"定义关闭回调"),D=Object(y.h)("p",{class:"caf-demo-title"},"定义图标"),N=function(t){function e(){var o,n,i;p(this,e);for(var c=arguments.length,r=Array(c),s=0;s<c;s++)r[s]=arguments[s];return o=n=f(this,t.call.apply(t,[this].concat(r))),n.showToast=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.kind,o=void 0===e?"show":e,n=t.duration,i=t.icon,c=t.onClose,r=t.mutiple;return function(){x[o]({content:o,duration:n,icon:i,onClose:c,mutiple:r})}},i=o,f(n,i)}return d(e,t),e.prototype.render=function(){return Object(y.h)("div",null,Object(y.h)("div",{class:"caf-demo-block"},E,Object(y.h)(v.a,{onClick:this.showToast()},"常规Toast"),Object(y.h)(v.a,{onClick:this.showToast({kind:"loading"})},"加载Toast"),Object(y.h)(v.a,{type:"warning",onClick:this.showToast({kind:"error"})},"错误Toast"),Object(y.h)(v.a,{type:"primary",onClick:this.showToast({kind:"success"})},"成功Toast")),Object(y.h)("div",{class:"caf-demo-block"},z,Object(y.h)(v.a,{onClick:this.showToast({duration:4e3})},"自定义时长",P)),Object(y.h)("div",{class:"caf-demo-block"},S,Object(y.h)(v.a,{onClick:this.showToast({onClose:function(){alert("关闭")}})},"回调")),Object(y.h)("div",{class:"caf-demo-block"},D,Object(y.h)(v.a,{onClick:this.showToast({icon:"like"})},"内置图标"),Object(y.h)(v.a,{onClick:this.showToast({icon:{icon:"https://image.flaticon.com/icons/png/128/2026/2026462.png",size:"32px"}})},"图片图标")))},e}(y.Component)}});
//# sourceMappingURL=9.chunk.3fdab.js.map
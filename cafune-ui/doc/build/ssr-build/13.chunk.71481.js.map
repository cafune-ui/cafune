{"version":3,"sources":["webpack:///../components/steps/step.jsx","webpack:///../components/steps/index.jsx","webpack:///./pages/components/steps/index.js"],"names":["defaultIconMap","prefix","status","isDecimal","ind","Step","renderIcon","props","icons","isDecimalInd","context","iconResult","render","className","title","desc","restProps","cx","Component","displayName","defaultProps","checkIfItem","el","nodeName","Steps","getChildContext","renderSteps","children","step","stepsArr","forEach","Item","newProps","attributes","Object","keys","length","push","cloneElement","direction","pend","finish","icon","error","process","StepsComp","state","current","nextStep","setState","map","item"],"mappings":"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","file":"13.chunk.71481.js","sourcesContent":["import { Component } from 'preact';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport Icon from '../icon';\nconst defaultIconMap = (prefix, status, isDecimal, ind) => {\n  if (isDecimal) {\n    return <span className={`${prefix}-icon-decimal`}>{ind}</span>;\n  } else {\n    if (status === 'finish') {\n      return (\n        <span className={`${prefix}-icon-container`}>\n          <Icon icon=\"check\" />\n        </span>\n      );\n    }\n    if (status === 'error') {\n      return (\n        <span className={`${prefix}-icon-container`}>\n          <Icon icon=\"wrong\" />\n        </span>\n      );\n    }\n    return <i className={`${prefix}-icon-circle`} />;\n  }\n};\n/**\n * 步骤条步骤单元\n */\nclass Step extends Component {\n  static displayName = 'Step';\n  static defaultProps = {\n    prefix: 'caf-step',\n    status: 'pend'\n  };\n  static propTypes = {\n    /**\n     * 自定义类名\n     */\n    prefix: PropTypes.string,\n    /**\n     * 指定步骤状态，默认根据父级`Steps` 的step 来决定状态\n     */\n    status: PropTypes.oneOf(['pend', 'process', 'finish', 'error']),\n    /**\n     * 标题\n     */\n    title: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.element,\n      PropTypes.node\n    ]).isRequired,\n    /**\n     * 详情描述\n     */\n    desc: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.element,\n      PropTypes.node\n    ]),\n    /**\n     * 步骤图标\n     */\n    icons: PropTypes.shape({\n      /**\n       * 等待状态图标\n       */\n      pend: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.element,\n        PropTypes.node\n      ]),\n      /**\n       * 进行中状态图标\n       */\n      process: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.element,\n        PropTypes.node\n      ]),\n      /**\n       * 结束状态图标\n       */\n      finish: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.element,\n        PropTypes.node\n      ]),\n      /**\n       * 错误状态图标\n       */\n      error: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.element,\n        PropTypes.node\n      ])\n    })\n  };\n  renderIcon() {\n    const { prefix, icons, ind, status } = this.props;\n    const { isDecimalInd } = this.context;\n    let iconResult;\n    if (icons && icons[status]) {\n      iconResult =\n        typeof icons[status] === 'string' ? (\n          <Icon icon={icons[status]} />\n        ) : (\n          icons[status]\n        );\n    } else {\n      iconResult = defaultIconMap(prefix, status, isDecimalInd, ind);\n    }\n    return iconResult;\n  }\n  render({ prefix, className, title, desc, status, ...restProps }) {\n    return (\n      <div className={cx(prefix, className, `${prefix}__${status}`)} {...restProps}>\n        <div className={`${prefix}-tail`}></div>\n        <div className={`${prefix}-icon`}>{this.renderIcon()}</div>\n        <div className={`${prefix}-content`}>\n          {!!title && <div className={`${prefix}-content-title`}>{title}</div>}\n          {!!desc && <div className={`${prefix}-content-desc`}>{desc}</div>}\n        </div>\n      </div>\n    );\n  }\n}\nexport default Step;\n\n\n\n// WEBPACK FOOTER //\n// ../components/steps/step.jsx","import { Component, cloneElement } from 'preact';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport Step from './step';\nfunction checkIfItem(el) {\n  return el.nodeName.displayName === 'Step';\n}\n/**\n * 步骤条\n */\nclass Steps extends Component {\n  static Step = Step;\n  static defaultProps = {\n    prefix: 'caf-steps',\n    step: 0,\n    status: 'process',\n    direction: 'horizontal'\n  };\n  static propTypes = {\n    /**\n     * 自定义类名\n     */\n    prefix: PropTypes.string,\n    /**\n     * 当前步骤，从0开始计算，可在`Step`中通过`status`覆盖\n     */\n    step: PropTypes.number,\n    /**\n     * 当前步骤状态\n     */\n    status: PropTypes.oneOf(['pend', 'process', 'finish', 'error']),\n    /**\n     * 步骤条方向\n     */\n    direction: PropTypes.oneOf(['vertical', 'horizontal']),\n    /**\n     * 是否以下标(从1开始)显示图标\n      */\n    isDecimalInd: PropTypes.bool,\n    /**\n     * 步骤图标（会被子`Step` 的`icon` 属性覆盖）\n     */\n    icons: PropTypes.shape({\n      /**\n       * 等待状态图标\n       */\n      pend: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.element,\n        PropTypes.node\n      ]),\n      /**\n       * 进行中状态图标\n       */\n      process: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.element,\n        PropTypes.node\n      ]),\n      /**\n       * 结束状态图标\n       */\n      finish: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.element,\n        PropTypes.node\n      ]),\n      /**\n       * 错误状态图标\n       */\n      error: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.element,\n        PropTypes.node\n      ])\n    })\n  };\n  getChildContext() {\n    return {\n      isDecimalInd: this.props.isDecimalInd\n    }\n  }\n  renderSteps() {\n    const { children, step, status, icons } = this.props;\n    const stepsArr = [];\n    children.forEach((Item, ind) => {\n      if (Item && checkIfItem(Item)) {\n        const newProps = { ind };\n        const props = Item.attributes;\n        if (!props.status) {\n          if (step === ind) {\n            newProps.status = status;\n          } else if (ind < step) {\n            newProps.status = 'finish';\n          } else {\n            newProps.status = 'pend';\n          }\n        }\n        if (props.icons && (icons && Object.keys(icons).length)) {\n          newProps.icons = Object.assign({}, icons, props.icons);\n        }\n        stepsArr.push(cloneElement(Item, newProps));\n      }\n    });\n    return stepsArr;\n  }\n  render({ prefix, className, direction, ...restProps }) {\n    return (\n      <div className={cx(prefix, className, `${prefix}__${direction}`)} {...restProps}>\n        {this.renderSteps()}\n      </div>\n    );\n  }\n}\nexport default Steps;\n\n\n\n// WEBPACK FOOTER //\n// ../components/steps/index.jsx","import { Steps, Button } from 'cafune';\nconst { Step } = Steps;\nimport { Component } from 'preact';\n\nconst stepsArr = [\n  { title: 'Step 1', desc: 'this is the step 1' },\n  {\n    title: 'Step 2',\n    icons: { pend: 'search', finish: 'notice' },\n    status: 'error'\n  },\n  {\n    title: 'Step 3',\n    icon: { error: 'search', process: 'notice' },\n    desc: 'now is the step 3'\n  },\n  { title: 'Step 4', desc: 'this is the step 4' },\n  { title: 'Step 5' }\n];\nexport default class StepsComp extends Component {\n  state = {\n    current: 3\n  };\n  nextStep = () => {\n    const { current } = this.state;\n    this.setState({\n      current: current === stepsArr.length ? 0 : current + 1\n    });\n  };\n  renderSteps() {\n    return stepsArr.map((item, ind) => <Step {...item} key={ind} />);\n  }\n  render({}, { current }) {\n    return (\n      <div class=\"caf-demo-block\">\n        <Button onClick={this.nextStep}>下一步</Button>\n        <p class=\"caf-demo-title\">默认用法</p>\n        <Steps step={current}>{this.renderSteps()}</Steps>\n        <p class=\"caf-demo-title\">数字进度</p>\n        <Steps step={current} isDecimalInd>\n          {this.renderSteps()}\n        </Steps>\n        <p class=\"caf-demo-title\">垂直方向</p>\n        <Steps step={current} direction=\"vertical\">\n          {this.renderSteps()}\n        </Steps>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./pages/components/steps/index.js"],"sourceRoot":""}
{"version":3,"sources":["webpack:///../components/nav-bar/index.jsx","webpack:///./pages/components/nav-bar/index.js","webpack:///./pages/components/nav-bar/style.scss?399e"],"names":["prefix","themeColor","defaultLeftProp","icon","getBtn","data","side","isConflict","color","text","badge","clickHandler","textProp","style","hadText","$badge","NavBar","className","children","left","rights","isFixed","restProps","rightIcons","Array","isArray","map","item","cx","length","defaultProps","Page","render","console","log","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;AAEA,IAAMA,cAAMA,GAAG,YAAf;;AAEA,IAAMC,aAAa,SAAnB;AACA,IAAMC,kBAAkB;AACtBC,QAAM;AADgB,CAAxB;;AAIA;;;;;;AAMA,SAASC,MAAT,CAAgBC,IAAhB,EAAyD;AAAA,MAAnCC,IAAmC,uEAA5B,MAA4B;AAAA,MAApBC,UAAoB,uEAAP,KAAO;;AACvD,MAAIF,IAAJ,EAAU;AAAA,QACAF,IADA,GAC2CE,IAD3C,CACAF,IADA;AAAA,QACMK,KADN,GAC2CH,IAD3C,CACMG,KADN;AAAA,QACaC,IADb,GAC2CJ,IAD3C,CACaI,IADb;AAAA,QACmBC,KADnB,GAC2CL,IAD3C,CACmBK,KADnB;AAAA,QAC0BC,YAD1B,GAC2CN,IAD3C,CAC0BM,YAD1B;;AAER,QAAIC,WAAW,EAAf;AACA,QAAIJ,KAAJ,EAAW;AACTI,eAASC,KAAT,GAAiB,EAAEL,YAAF,EAAjB;AACD;AACD,QAAMM,UAAU,EAAEP,cAAc,CAAC,CAACJ,IAAlB,KAA2B,CAAC,CAACM,IAA7C;AACA,QAAMM,SAAS,CAAC,CAACL,KAAF,IACb;AAAA;AAAA,QAAM,WAAcV,cAAd,eAAN;AACG,aAAOU,KAAP,KAAiB,QAAjB,IAA6BA;AADhC,KADF;AAKA;AACA,WACE;AAAA;AAAA,QAAK,WAAcV,cAAd,aAA4BA,cAA5B,cAA2CM,IAAhD,EAAwD,SAASK,YAAjE;AACG,OAAC,CAACR,IAAF,IAAU,wBAAC,kCAAD,IAAM,MAAMA,IAAZ,EAAkB,OAAOK,SAASP,UAAlC,GADb;AAEGa,iBACC;AAAA;AAAA,mBAAM,WAAcd,cAAd,cAAN,IAA2CY,QAA3C,IAAqD,eAAc,CAAC,CAACF,KAAF,GAAU,CAAV,GAAc,CAAjF;AACGD;AADH,OAHJ;AAOGM;AAPH,KADF;AAWD;AACD,SAAO,IAAP;AACD;;AAED;;;AAGA,IAAMC,cAAMA,GAAG,SAATA,MAAS,OAA0E;AAAA;;AAAA,MAAvEhB,MAAuE,QAAvEA,MAAuE;AAAA,MAA/DiB,SAA+D,QAA/DA,SAA+D;AAAA,MAApDC,QAAoD,QAApDA,QAAoD;AAAA,MAA1CC,IAA0C,QAA1CA,IAA0C;AAAA,MAApCC,MAAoC,QAApCA,MAAoC;AAAA,MAA5BC,OAA4B,QAA5BA,OAA4B;AAAA,MAAhBC,SAAgB;;AACvF,MAAMC,aAAaC,MAAMC,OAAN,CAAcL,MAAd,IACfA,OAAOM,GAAP,CAAW;AAAA,WAAQtB,OAAOuB,IAAP,EAAa,OAAb,EAAsB,IAAtB,CAAR;AAAA,GAAX,CADe,GAEfvB,OAAOgB,MAAP,EAAe,OAAf,EAAwB,IAAxB,CAFJ;AAGA,SACE;AAAA;AAAA,eAAK,WAAWQ,oBAAEA,CAAC5B,MAAH,EAAWiB,SAAX,iBAA4BjB,MAA5B,gBAA8CqB,OAA9C,OAAhB,IAA8EC,SAA9E;AACGlB,WAAO,SAAc,EAAd,EAAkBF,eAAlB,EAAmCiB,IAAnC,CAAP,CADH;AAEE;AAAA;AAAA,QAAK,WAAcnB,MAAd,WAAL;AACGkB,kBAAYA,SAASW,MAAT,GAAkB,CAA9B,IAAmCX;AADtC,KAFF;AAKGK;AALH,GADF;AASD,CAbD;;AAeAP,cAAMA,CAACc,YAAP,GAAsB;AACpB9B,wBADoB;AAEpBmB,QAAMjB,eAFc;AAGpBkB,UAAQ;AAHY,CAAtB;;AA0CeJ,0DAAf,E;;;;;;;;;;;;;;;;AC1GA;;AAEA;;IAEqBe,Y;;;;;;;;;iBACnBC,M,qBAAS;AACP,WACE;AAAA;AAAA,QAAK,SAAM,eAAX;AACE;AAAA;AAAA;AACE,uBADF;AAEE,gBAAM;AACJ7B,kBAAM,OADF;AAEJM,kBAAM,IAFF;AAGJE,wBAHI,0BAGW;AACbsB,sBAAQC,GAAR,CAAY,IAAZ;AACD;AALG,WAFR;AASE,kBAAQ;AACN/B,kBAAM,QADA;AAENM,kBAAM,IAFA;AAGNE,wBAHM,0BAGS;AACbsB,sBAAQC,GAAR,CAAY,IAAZ;AACD;AALK;AATV;AAAA;AAAA,OADF;AAoBE;AAAA;AAAA;AACE,gBAAM;AACJ/B,kBAAM,OADF;AAEJM,kBAAM,IAFF;AAGJE,wBAHI,0BAGW;AACbsB,sBAAQC,GAAR,CAAY,IAAZ;AACD;AALG,WADR;AAQE,kBAAQ,CACN;AACEzB,kBAAM,IADR;AAEEC,mBAAO,IAFT;AAGEC,wBAHF,0BAGiB;AACbsB,sBAAQC,GAAR,CAAY,IAAZ;AACD;AALH,WADM,EAQN;AACEzB,kBAAM,IADR;AAEEE,wBAFF,0BAEiB;AACbsB,sBAAQC,GAAR,CAAY,IAAZ;AACD;AAJH,WARM,EAcN;AACE/B,kBAAM,KADR;AAEEM,kBAAM,IAFR;AAGEC,mBAAO,IAHT;AAIEC,wBAJF,0BAIiB;AACbsB,sBAAQC,GAAR,CAAY,IAAZ;AACD;AANH,WAdM;AARV;AAAA;AAAA;AApBF,KADF;AAyDD,G;;;EA3D+BC,uB;;;;;;;;;ACJlC,yC","file":"1.chunk.92206.js","sourcesContent":["import PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport Icon from '../icon';\n\nconst prefix = 'caf-navbar';\n\nconst themeColor = '#3f77f6';\nconst defaultLeftProp = {\n  icon: 'back'\n};\n\n/**\n * 获取按钮内容\n * @param {object} data 按钮信息\n * @param {string} side 按钮位置\n * @param {boolean} isConflict icon和text 是否存在二选一\n */\nfunction getBtn(data, side = 'left', isConflict = false) {\n  if (data) {\n    const { icon, color, text, badge, clickHandler } = data;\n    let textProp = {};\n    if (color) {\n      textProp.style = { color };\n    }\n    const hadText = !(isConflict && !!icon) && !!text;\n    const $badge = !!badge && (\n      <span className={`${prefix}-btn-badge`}>\n        {typeof badge === 'string' && badge}\n      </span>\n    );\n    // 竞争状态时只保留图标\n    return (\n      <div className={`${prefix}-btn ${prefix}-btn__${side}`} onClick={clickHandler}>\n        {!!icon && <Icon icon={icon} color={color || themeColor} />}\n        {hadText && (\n          <span className={`${prefix}-btn-text`} {...textProp} data-badged={ !!badge ? 1 : 0}>\n            {text}\n          </span>\n        )}\n        {$badge}\n      </div>\n    );\n  }\n  return null;\n}\n\n/**\n * 导航栏\n */\nconst NavBar = ({ prefix, className, children, left, rights, isFixed, ...restProps }) => {\n  const rightIcons = Array.isArray(rights)\n    ? rights.map(item => getBtn(item, 'right', true))\n    : getBtn(rights, 'right', true);\n  return (\n    <div className={cx(prefix, className, { [`${prefix}__fixed`]: isFixed })} {...restProps}>\n      {getBtn(Object.assign({}, defaultLeftProp, left))}\n      <div className={`${prefix}-title`}>\n        {children && children.length > 0 && children}\n      </div>\n      {rightIcons}\n    </div>\n  );\n};\n\nNavBar.defaultProps = {\n  prefix,\n  left: defaultLeftProp,\n  rights: []\n};\n\nconst btnShape = PropTypes.shape({\n  /**\n   * 按钮图标\n   */\n  icon: PropTypes.string,\n  /**\n   * 按钮颜色\n   */\n  color: PropTypes.string,\n  /**\n   * 按钮描述文字（如为右侧按钮有文字则会忽略）\n   */\n  text: PropTypes.string,\n  /**\n   * 按钮点击事件\n   */\n  clickHandler: PropTypes.func,\n  /**\n   * 徽标\n   */\n  badge: PropTypes.oneOfType([PropTypes.string, PropTypes.bool])\n});\nNavBar.propTypes = {\n  /**\n   * 自定义前缀\n   */\n  prefix: PropTypes.string,\n  /**\n   * 左侧按钮信息，当为对象时将根据对象信息显示，如为`false` 时则不显示\n   */\n  left: PropTypes.oneOfType([btnShape, PropTypes.bool]),\n  /**\n   * 右侧按钮列表\n   */\n  rights: PropTypes.oneOfType([PropTypes.arrayOf(btnShape), btnShape])\n};\nexport default NavBar;\n\n\n\n// WEBPACK FOOTER //\n// ../components/nav-bar/index.jsx","import { Component } from 'preact';\nimport { NavBar } from 'cafune';\nimport './style';\n\nexport default class Page extends Component {\n  render() {\n    return (\n      <div class=\"caf-demo-page\">\n        <NavBar\n          isFixed\n          left={{\n            icon: 'wrong',\n            text: '返回',\n            clickHandler() {\n              console.log('返回');\n            }\n          }}\n          rights={{\n            icon: 'search',\n            text: '搜索',\n            clickHandler() {\n              console.log('搜索');\n            }\n          }}\n        >\n          标题\n        </NavBar>\n        <NavBar\n          left={{\n            icon: 'wrong',\n            text: '返回',\n            clickHandler() {\n              console.log('返回');\n            }\n          }}\n          rights={[\n            {\n              text: '搜索',\n              badge: '22',\n              clickHandler() {\n                console.log('搜索');\n              }\n            },\n            {\n              text: '搜索',\n              clickHandler() {\n                console.log('搜索');\n              }\n            },\n            {\n              icon: 'img',\n              text: '图片',\n              badge: true,\n              clickHandler() {\n                console.log('图标');\n              }\n            }\n          ]}\n        >\n          标题\n        </NavBar>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./pages/components/nav-bar/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/components/nav-bar/style.scss\n// module id = lIn8\n// module chunks = 1 27"],"sourceRoot":""}
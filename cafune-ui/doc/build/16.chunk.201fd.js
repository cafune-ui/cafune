webpackJsonp([16],{qlsu:function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function a(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}function u(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var p,h,m,b=n("EBst"),d=(n("5D9O"),n("9qb7")),v=n.n(d),O=n("zHj6"),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},j={confirm:{text:"搜索",keepShow:!0},cancel:{text:"取消",keepShow:!1},custom:{text:"确定",keepShow:!0}},C=(h=p=function(e){function t(t){var n=r(this,e.call(this,t));return m.call(n),n.state={value:t.value||"",focus:!1},n}return i(t,e),t.prototype.componentWillReceiveProps=function(e){"value"in e&&e.value!==this.state.value&&this.setState({value:e.value})},t.prototype.componentDidMount=function(){this.componentDidUpdate()},t.prototype.componentDidUpdate=function(){if(this.actionRef&&this.actionRef.current){var e=this.props.action;e=y({},j[e.type],e);var t=this.state.focus;if(!e.keepShow&&!t){var n=this.actionRef.current,o=window.getComputedStyle(n),r=n.offsetWidth+parseInt(o.marginLeft,10);n.style="margin-right: "+-1*r+"px",this.actionSize=r}}},t.prototype.componentWillUnmount=function(){this.onBlurTimeout&&(a(this.onBlurTimeout),this.onBlurTimeout=null)},t.prototype.render=function(e,t){var n,r=this,i=t.value,c=t.focus,a=e.prefix,u=e.className,l=e.placeholder,f=e.maxLength,s=e.action,p=e.leftIcon,h=o(e,["prefix","className","placeholder","maxLength","action","leftIcon"]),m=!1;return s&&(s=y({},j[s.type],s),m=!s.keepShow&&!c),Object(b.h)("form",y({className:v()(a,u),onSubmit:this.onConfirm},h),Object(b.h)("div",{className:a+"-input"},Object(b.h)(O.a,{icon:p}),Object(b.h)("input",{type:"search",placeholder:l,value:i,maxLength:f,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,ref:this.inputRef})),!!s&&Object(b.h)("div",{className:v()(a+"-action",(n={},n[a+"-action__hide"]=m,n)),onClick:function(){"cancel"===s.type?r.onCancel():"confirm"===s.type&&r.onConfirm(),s.onClick()},style:{marginRight:m?-1*this.actionSize+"px":0},ref:this.actionRef},s.text))},t}(b.Component),p.defaultProps={prefix:"caf-search",align:"center",leftIcon:"search"},m=function(){var e=this;this.actionSize=0,this.clear=function(){"value"in e.props||e.setState({value:""}),e.props.onChange&&e.props.onChange("")},this.onChange=function(t){var n=t.target.value;"value"in e.props||e.setState({value:n}),e.props.onChange&&e.props.onChange(n)},this.onConfirm=function(t){t&&t.preventDefault();var n="";n=e.inputRef&&e.inputRef.current?e.inputRef.current.value:e.state.value,e.props.onConfirm&&e.props.onConfirm(n)},this.onCancel=function(){e.props.onCancel?e.props.onCancel(e.state.value||""):e.clear()},this.onFocus=function(){e.setState({focus:!0})},this.onBlur=function(){e.onBlurTimeout=c(function(){e.blurFromOnClear||document.activeElement!==e.inputRef&&e.setState({focus:!1}),e.blurFromOnClear=!1})},this.focus=function(){e.inputRef&&e.inputRef.current&&e.inputRef.current.focus()},this.inputRef=Object(b.createRef)(),this.actionRef=Object(b.createRef)(),this.formRef=Object(b.createRef)()},h),w=C;n.d(t,"default",function(){return k});var g=Object(b.h)("div",null,Object(b.h)("p",{class:"caf-demo-title"},"默认用法"),Object(b.h)(w,{placeholder:"请输入关键词"})),R=Object(b.h)("p",{class:"caf-demo-title"},"自定义值"),S=Object(b.h)("p",{class:"caf-demo-title"},"设置回调"),x=Object(b.h)("p",{class:"caf-demo-title"},"定义右侧按钮"),k=function(e){function t(){var n,o,r;l(this,t);for(var i=arguments.length,c=Array(i),a=0;a<i;a++)c[a]=arguments[a];return n=o=f(this,e.call.apply(e,[this].concat(c))),o.state={val:"关键词"},o.focusInput=function(){o.inpRef.focus()},r=n,f(o,r)}return s(t,e),t.prototype.render=function(e,t){var n=this,o=t.val;return u(e),Object(b.h)("div",null,g,Object(b.h)("div",null,R,Object(b.h)(w,{placeholder:"请输入关键词",value:o,onChange:function(e){return n.setState({val:e})}})),Object(b.h)("div",null,S,Object(b.h)(w,{placeholder:"请输入关键词",onConfirm:function(e){return alert("确认，输入值为"+e)},onChange:function(e){return console.log(e)}})),Object(b.h)("div",null,x,Object(b.h)(w,{placeholder:"请输入关键词",onConfirm:function(){return alert("确认")},onCancel:function(){return alert("取消")},action:{type:"cancel",onClick:function(){console.log("action cancel")}}}),Object(b.h)(w,{placeholder:"请输入关键词",onConfirm:function(e){return alert(e)},onCancel:function(){return alert("取消")},action:{type:"confirm",onClick:function(){console.log("action confirm")}}}),Object(b.h)(w,{placeholder:"请输入关键词",onConfirm:function(){return alert("确认")},onCancel:function(){return alert("取消")},action:{type:"custom",text:"试试手气",keepShow:!1,onClick:function(){alert("试试手气")}}})),Object(b.h)("div",null,Object(b.h)("p",{class:"caf-demo-title",onClick:this.focusInput},"点击聚焦"),Object(b.h)(w,{placeholder:"请输入关键词",ref:function(e){return n.inpRef=e}})))},t}(b.Component)}});
//# sourceMappingURL=16.chunk.201fd.js.map
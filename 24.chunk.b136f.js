(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{A6Wv:function(t,e,n){"use strict";(function(t){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n("4dxh"),a=n("O94r"),c=n.n(a),u=(n("W0B4"),10),l=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i(o(t=e.call.apply(e,[this].concat(r))||this),"state",{status:"normal",height:0}),i(o(t),"pullrefresh",Object(s.createRef)()),i(o(t),"pullrefresh_loading",Object(s.createRef)()),i(o(t),"headHeight",50),i(o(t),"touchStart",(function(e){t.resetTouchStatus(),t.startX=e.touches[0].clientX,t.startY=e.touches[0].clientY})),i(o(t),"touchMove",(function(e){var n,r,o=e.touches[0];t.deltaX=o.clientX-t.startX,t.deltaY=o.clientY-t.startY,t.offsetX=Math.abs(t.deltaX),t.offsetY=Math.abs(t.deltaY),t.direction=t.direction||((n=t.offsetX)>(r=t.offsetY)&&n>u?"horizontal":r>n&&r>u?"vertical":"")})),i(o(t),"resetTouchStatus",(function(){t.direction="",t.deltaX=0,t.deltaY=0,t.offsetX=0,t.offsetY=0})),i(o(t),"onTouchStart",(function(e){!t.untouchable()&&t.getCeiling()&&t.touchStart(e)})),i(o(t),"onTouchMove",(function(e){t.untouchable()||(t.touchMove(e),!t.ceiling&&t.getCeiling()&&(t.startY=e.touches[0].clientY,t.deltaY=0),t.ceiling&&t.deltaY>=0&&"vertical"===t.direction&&(t.setStatus(t.ease(t.deltaY)),e.cancelable&&e.preventDefault()))})),i(o(t),"onTouchEnd",(function(){!t.untouchable()&&t.ceiling&&t.deltaY&&("loosing"===t.state.status?(t.props.onRefresh&&t.props.onRefresh(),t.setStatus(t.headHeight,!0)):t.setStatus(0))})),t}var a,l;l=e,(a=n).prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l;var h=n.prototype;return h.componentDidMount=function(){if(this.pullrefresh){var t=this.pullrefresh.current;t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchEnd,!1)}},h.componentWillUnmount=function(){if(this.pullrefresh){var t=this.pullrefresh.current;t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchEnd,!1)}},h.untouchable=function(){return"loading"===this.state.status||"success"===this.state.status||this.props.disabled},h.getCeiling=function(){return this.ceiling=0===(document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop),this.ceiling},h.componentWillReceiveProps=function(t){t.loading?this.setStatus(t.loading?this.headHeight:0,t.loading):this.setStatus(0)},h.ease=function(t){var e=this.headHeight;return t<e?t:t<2*e?Math.round(e+(t-e)/2):t>1.5*e?1.5*e:Math.round(1.5*e+(t-2*e)/4)},h.setStatus=function(t,e){var n,r;(n=this.pullrefresh_loading.current).style.transform="translate3d(0, "+(r=t)+"px, 0)",n.style.msTransform="translate3d(0, "+r+"px, 0)",n.style.MozTransform="translate3d(0, "+r+"px, 0)",n.style.webkitTransform="translate3d(0, "+r+"px, 0)";var o=e?"loading":0===t?"normal":t<this.headHeight?"pulling":"loosing";o!==this.state.status&&this.setState({status:o})},h.render=function(e){var n=e.prefix,o=e.className,i=e.children,s=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e.indexOf(n=i[r])>=0||(o[n]=t[n]);return o}(e,["prefix","className","children"]);return t("div",r({className:c()(n,o),ref:this.pullrefresh},s),t("span",{className:n+"-loading",ref:this.pullrefresh_loading}),i)},n}(s.Component);i(l,"defaultProps",{prefix:"caf-pullref"}),e.a=l}).call(this,n("4dxh").h)},E02R:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},NS33:function(t,e,n){"use strict";function r(){}function o(){}var i=n("E02R");o.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},O94r:function(t,e){var n;!function(){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var i=typeof n;if("string"===i||"number"===i)t.push(n);else if(Array.isArray(n)&&n.length){var s=r.apply(null,n);s&&t.push(s)}else if("object"===i)for(var a in n)o.call(n,a)&&n[a]&&t.push(a)}}return t.join(" ")}var o={}.hasOwnProperty;t.exports?(r.default=r,t.exports=r):void 0===(n=function(){return r}.apply(e,[]))||(t.exports=n)}()},W0B4:function(t,e,n){t.exports=n("NS33")()},damy:function(t,e,n){"use strict";n("vs+D")},"vs+D":function(){},zLq5:function(t,e,n){"use strict";n.r(e),function(t){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"default",(function(){return s}));n("damy");var i=n("A6Wv"),s=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return o(r(t=e.call.apply(e,[this].concat(i))||this),"state",{count:1,loading:!1}),o(r(t),"onRefresh",(function(){setTimeout((function(){console.log("刷新成功"),t.setState({loading:!1,count:t.state.count+1})}),2e3)})),t}var s,a;return a=e,(s=n).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,n.prototype.render=function(e,n){return function(t){if(null==t)throw new TypeError("Cannot destructure undefined")}(e),t(i.a,{loading:n.loading,onRefresh:this.onRefresh},t("div",{class:"caf-demo-block",style:"min-height: 500px;"},"count: ",n.count))},n}(n("4dxh").Component)}.call(this,n("4dxh").h)}}]);
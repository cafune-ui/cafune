{"version":3,"sources":["webpack:///0.chunk.33c19.js","webpack:///../components/notice-bar/index.jsx","webpack:///./pages/components/notice-bar/index.js"],"names":["webpackJsonp","BlhD","S/UO","module","__webpack_exports__","__webpack_require__","_objectWithoutProperties","obj","keys","target","i","indexOf","Object","prototype","hasOwnProperty","call","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","notice_bar__classCallCheck","instance","Constructor","notice_bar__possibleConstructorReturn","notice_bar__inherits","defineProperty","_class","_temp2","preact_min","classnames","classnames_default","n","components_icon","_extends","assign","arguments","length","source","key","NoticeBar","_Component","_temp","_this","_ret","_len","args","Array","_key","this","apply","concat","state","wrapWidth","offsetWidth","duration","isFirst","isShow","wrap","createRef","content","onAnimationEnd","setState","calcInfo","onRightClick","props","action","onClick","componentWillReceiveProps","nextProps","text","componentDidMount","_props","scrollable","speed","current","getBoundingClientRect","width","render","_ref","_ref2","prefix","className","icon","wrapable","delay","color","bgColor","restProps","barStyle","backgroundColor","contentStyle","paddingLeft","animationDelay","animationDuration","rightIcon","_cx","_cx2","cx","style","ref","onAnimationend","onWebkitAnimationEnd","Component","defaultProps","d","notice_bar_Page","notice_bar__ref","notice_bar__ref2","notice_bar","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","Page","class","console","log"],"mappings":"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","file":"0.chunk.33c19.js","sourcesContent":["webpackJsonp([0,26],{\n\n/***/ \"BlhD\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"S/UO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"EBst\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ../node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(\"5D9O\");\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: ../node_modules/classnames/index.js\nvar classnames = __webpack_require__(\"9qb7\");\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ../components/icon/index.jsx\nvar components_icon = __webpack_require__(\"zHj6\");\n\n// CONCATENATED MODULE: ../components/notice-bar/index.jsx\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _class, _temp2;\n\n\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n/**\n * 通知栏\n */\nvar notice_bar_NoticeBar = (_temp2 = _class = function (_Component) {\n  _inherits(NoticeBar, _Component);\n\n  function NoticeBar() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, NoticeBar);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n      wrapWidth: 0,\n      offsetWidth: 0,\n      duration: 0,\n      isFirst: true,\n      isShow: true\n    }, _this.wrap = Object(preact_min[\"createRef\"])(), _this.content = Object(preact_min[\"createRef\"])(), _this.onAnimationEnd = function () {\n      _this.setState({\n        isFirst: false\n      }, function () {\n        _this.calcInfo();\n      });\n    }, _this.onRightClick = function () {\n      if (_this.props.action === 'closable') {\n        _this.setState({\n          isShow: false\n        });\n      }\n      _this.props.onClick && _this.props.onClick();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  NoticeBar.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (this.props.text !== nextProps.text) {\n      this.calcInfo();\n    }\n  };\n\n  NoticeBar.prototype.componentDidMount = function componentDidMount() {\n    this.calcInfo();\n  };\n\n  NoticeBar.prototype.calcInfo = function calcInfo() {\n    var wrap = this.wrap,\n        content = this.content;\n    var _props = this.props,\n        scrollable = _props.scrollable,\n        speed = _props.speed;\n\n    if (!wrap.current || !content.current) {\n      return;\n    }\n    wrap = wrap.current;\n    content = content.current;\n    var wrapWidth = wrap.getBoundingClientRect().width;\n    var offsetWidth = content.getBoundingClientRect().width;\n\n    if (scrollable && offsetWidth > wrapWidth) {\n      this.setState({\n        wrapWidth: wrapWidth,\n        offsetWidth: offsetWidth,\n        duration: offsetWidth / speed\n      });\n    }\n  };\n\n  NoticeBar.prototype.render = function render(_ref, _ref2) {\n    var isFirst = _ref2.isFirst,\n        duration = _ref2.duration,\n        wrapWidth = _ref2.wrapWidth,\n        isShow = _ref2.isShow;\n\n    var prefix = _ref.prefix,\n        className = _ref.className,\n        text = _ref.text,\n        icon = _ref.icon,\n        scrollable = _ref.scrollable,\n        wrapable = _ref.wrapable,\n        delay = _ref.delay,\n        color = _ref.color,\n        bgColor = _ref.bgColor,\n        action = _ref.action,\n        restProps = _objectWithoutProperties(_ref, ['prefix', 'className', 'text', 'icon', 'scrollable', 'wrapable', 'delay', 'color', 'bgColor', 'action']);\n\n    var barStyle = {};\n    if (color || bgColor) {\n      barStyle = {\n        color: color,\n        backgroundColor: bgColor\n      };\n    }\n    var contentStyle = {};\n    if (!wrapable) {\n      contentStyle = {\n        paddingLeft: isFirst ? 0 : wrapWidth + 'px',\n        animationDelay: (isFirst ? delay : 0) + 's',\n        animationDuration: duration + 's'\n      };\n    }\n    var rightIcon = void 0;\n    if (!!action) {\n      if (action === 'closable' || action === 'link') {\n        rightIcon = Object(preact_min[\"h\"])(\n          'span',\n          { className: prefix + '-action', onClick: this.onRightClick },\n          Object(preact_min[\"h\"])(components_icon[\"a\" /* default */], { icon: action === 'closable' ? 'wrong' : 'arrow_right' })\n        );\n      } else {\n        rightIcon = typeof action === 'string' ? Object(preact_min[\"h\"])(\n          'span',\n          { className: prefix + '-action' },\n          action\n        ) : action;\n      }\n    }\n\n    if (isShow) {\n      var _cx, _cx2;\n\n      return Object(preact_min[\"h\"])(\n        'div',\n        _extends({\n          className: classnames_default()(prefix, className, (_cx = {}, _cx[prefix + '__wrapable'] = wrapable, _cx)),\n          style: barStyle\n        }, restProps),\n        !!icon && Object(preact_min[\"h\"])(components_icon[\"a\" /* default */], { icon: typeof icon === 'string' ? icon : 'notice' }),\n        Object(preact_min[\"h\"])(\n          'div',\n          { className: prefix + '-wrapper', ref: this.wrap },\n          Object(preact_min[\"h\"])(\n            'p',\n            {\n              className: classnames_default()(prefix + '-content', (_cx2 = {}, _cx2[prefix + '-content__scroll'] = scrollable && !wrapable, _cx2[prefix + '-content__scroll__infinite'] = !isFirst && !wrapable, _cx2[prefix + '-content__ellipsis'] = !scrollable && !wrapable, _cx2)),\n              onAnimationend: this.onAnimationEnd,\n              onWebkitAnimationEnd: this.onAnimationEnd,\n              ref: this.content,\n              style: contentStyle\n            },\n            text\n          )\n        ),\n        rightIcon\n      );\n    } else {\n      return null;\n    }\n  };\n\n  return NoticeBar;\n}(preact_min[\"Component\"]), _class.defaultProps = {\n  prefix: 'caf-noticebar',\n  scrollable: true,\n  wrapable: false,\n  icon: 'notice',\n  speed: 50,\n  delay: 1\n}, _temp2);\n\n/* harmony default export */ var notice_bar = (notice_bar_NoticeBar);\n// EXTERNAL MODULE: ./pages/components/notice-bar/style.scss\nvar style = __webpack_require__(\"BlhD\");\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// CONCATENATED MODULE: ./pages/components/notice-bar/index.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return notice_bar_Page; });\n\n\n\nfunction notice_bar__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction notice_bar__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction notice_bar__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar notice_bar__ref = Object(preact_min[\"h\"])(\n  'p',\n  null,\n  '\\u57FA\\u7840\\u7528\\u6CD5'\n);\n\nvar notice_bar__ref2 = Object(preact_min[\"h\"])(notice_bar, { text: '\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9' });\n\nvar _ref3 = Object(preact_min[\"h\"])(\n  'p',\n  null,\n  '\\u81EA\\u5B9A\\u4E49\\u56FE\\u6807'\n);\n\nvar _ref4 = Object(preact_min[\"h\"])(notice_bar, {\n  icon: false,\n  text: '\\u7981\\u7528\\u56FE\\u6807\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9'\n});\n\nvar _ref5 = Object(preact_min[\"h\"])(notice_bar, {\n  icon: 'more',\n  text: '\\u81EA\\u5B9A\\u4E49\\u56FE\\u6807\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9'\n});\n\nvar _ref6 = Object(preact_min[\"h\"])(\n  'p',\n  null,\n  '\\u7981\\u6B62\\u6EDA\\u52A8'\n);\n\nvar _ref7 = Object(preact_min[\"h\"])(notice_bar, {\n  scrollable: false,\n  text: '\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9'\n});\n\nvar _ref8 = Object(preact_min[\"h\"])(\n  'p',\n  null,\n  '\\u591A\\u884C\\u5C55\\u793A'\n);\n\nvar _ref9 = Object(preact_min[\"h\"])(notice_bar, {\n  wrapable: true,\n  text: '\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9'\n});\n\nvar _ref10 = Object(preact_min[\"h\"])(\n  'p',\n  null,\n  '\\u81EA\\u5B9A\\u4E49\\u6837\\u5F0F'\n);\n\nvar _ref11 = Object(preact_min[\"h\"])(notice_bar, {\n  color: '#fff',\n  bgColor: '#177cb0',\n  icon: 'more',\n  text: '\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9'\n});\n\nvar _ref12 = Object(preact_min[\"h\"])(\n  'p',\n  null,\n  '\\u81EA\\u5B9A\\u4E49\\u53F3\\u4FA7'\n);\n\nvar _ref13 = Object(preact_min[\"h\"])(notice_bar, {\n  action: 'link',\n  text: '\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9'\n});\n\nvar _ref14 = Object(preact_min[\"h\"])(notice_bar, {\n  action: '\\u53BB\\u770B\\u770B',\n  text: '\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9'\n});\n\nvar _ref15 = Object(preact_min[\"h\"])(notice_bar, {\n  action: Object(preact_min[\"h\"])(\n    'span',\n    { style: 'color: #88ada6;' },\n    '\\u53BB\\u770B\\u770B'\n  ),\n  text: '\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9'\n});\n\nvar notice_bar_Page = function (_Component) {\n  notice_bar__inherits(Page, _Component);\n\n  function Page() {\n    notice_bar__classCallCheck(this, Page);\n\n    return notice_bar__possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  Page.prototype.render = function render() {\n    return Object(preact_min[\"h\"])(\n      'div',\n      { 'class': 'caf-demo caf-demo__noticebar' },\n      notice_bar__ref,\n      notice_bar__ref2,\n      _ref3,\n      _ref4,\n      _ref5,\n      _ref6,\n      _ref7,\n      _ref8,\n      _ref9,\n      _ref10,\n      _ref11,\n      _ref12,\n      Object(preact_min[\"h\"])(notice_bar, {\n        action: 'closable',\n        onClick: function onClick() {\n          console.log('closed ');\n        },\n        text: '\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9\\u901A\\u77E5\\u5185\\u5BB9'\n      }),\n      _ref13,\n      _ref14,\n      _ref15\n    );\n  };\n\n  return Page;\n}(preact_min[\"Component\"]);\n\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 0.chunk.33c19.js","import { Component, createRef } from 'preact';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport Icon from '../icon';\n/**\n * 通知栏\n */\nclass NoticeBar extends Component {\n  static defaultProps = {\n    prefix: 'caf-noticebar',\n    scrollable: true,\n    wrapable: false,\n    icon: 'notice',\n    speed: 50,\n    delay: 1\n  };\n  static propTypes = {\n    /**\n     * 自定义前缀\n     */\n    prefix: PropTypes.string,\n    /**\n     * 消息内容\n     */\n    text: PropTypes.string,\n    /**\n     * 是否启用滚动\n     */\n    scrollable: PropTypes.bool,\n    /**\n     * 是否自动换行（仅在不滚动时生效）\n     */\n    wrapable: PropTypes.bool,\n    /**\n     * 文本颜色\n     */\n    color: PropTypes.string,\n    /**\n     * 背景颜色\n     */\n    bgColor: PropTypes.string,\n    /**\n     * 左侧图标，`string` 类型时显示指定图标， 为`false` 时不显示图标，为`true` 时显示默认图标\n     */\n    icon: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    /**\n     * 滚动速度\n     */\n    speed: PropTypes.number,\n    /**\n     * 滚动延迟\n     */\n    delay: PropTypes.number,\n    /**\n     * 点击类型\n     */\n    action: PropTypes.oneOfType([PropTypes.oneOf(['closable', 'link']), PropTypes.node , PropTypes.element])\n  };\n  state = {\n    wrapWidth: 0,\n    offsetWidth: 0,\n    duration: 0,\n    isFirst: true,\n    isShow: true\n  };\n  wrap = createRef();\n  content = createRef();\n  componentWillReceiveProps(nextProps) {\n    if (this.props.text !== nextProps.text) {\n      this.calcInfo();\n    }\n  }\n  onAnimationEnd = () => {\n    this.setState(\n      {\n        isFirst: false\n      },\n      () => {\n        this.calcInfo();\n      }\n    );\n  };\n  componentDidMount() {\n    this.calcInfo();\n  }\n  calcInfo() {\n    let { wrap, content } = this;\n    const { scrollable, speed } = this.props;\n    if (!wrap.current || !content.current) {\n      return;\n    }\n    wrap = wrap.current;\n    content = content.current;\n    const wrapWidth = wrap.getBoundingClientRect().width;\n    const offsetWidth = content.getBoundingClientRect().width;\n\n    if (scrollable && offsetWidth > wrapWidth) {\n      this.setState({\n        wrapWidth,\n        offsetWidth,\n        duration: offsetWidth / speed\n      });\n    }\n  }\n  onRightClick = () => {\n    if (this.props.action === 'closable') {\n      this.setState({\n        isShow: false\n      });\n    }\n    this.props.onClick && this.props.onClick();\n  };\n  render(\n    { prefix, className, text, icon, scrollable, wrapable, delay, color, bgColor, action, ...restProps },\n    { isFirst, duration, wrapWidth, isShow }\n  ) {\n    let barStyle = {};\n    if (color || bgColor) {\n      barStyle = {\n        color,\n        backgroundColor: bgColor\n      };\n    }\n    let contentStyle = {};\n    if (!wrapable) {\n      contentStyle = {\n        paddingLeft: isFirst ? 0 : wrapWidth + 'px',\n        animationDelay: (isFirst ? delay : 0) + 's',\n        animationDuration: duration + 's'\n      };\n    }\n    let rightIcon;\n    if (!!action) {\n      if (action === 'closable' || action === 'link') {\n        rightIcon = (\n          <span className={`${prefix}-action`} onClick={this.onRightClick}>\n            <Icon icon={action === 'closable' ? 'wrong' : 'arrow_right'} />\n          </span>\n        );\n      } else {\n        rightIcon = typeof(action) === 'string' ? <span className={`${prefix}-action`}>{action}</span> : action;\n      }\n    }\n\n    if (isShow) {\n      return (\n        <div\n          className={cx(prefix, className, {\n            [`${prefix}__wrapable`]: wrapable\n          })}\n          style={barStyle}\n          {...restProps}\n        >\n          {!!icon && <Icon icon={typeof icon === 'string' ? icon : 'notice'} />}\n          <div className={`${prefix}-wrapper`} ref={this.wrap}>\n            <p\n              className={cx(`${prefix}-content`, {\n                [`${prefix}-content__scroll`]: scrollable && !wrapable,\n                [`${prefix}-content__scroll__infinite`]: !isFirst && !wrapable,\n                [`${prefix}-content__ellipsis`]: !scrollable && !wrapable\n              })}\n              onAnimationend={this.onAnimationEnd}\n              onWebkitAnimationEnd={this.onAnimationEnd}\n              ref={this.content}\n              style={contentStyle}\n            >\n              {text}\n            </p>\n          </div>\n          {rightIcon}\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}\nexport default NoticeBar;\n\n\n\n// WEBPACK FOOTER //\n// ../components/notice-bar/index.jsx","import { Component } from 'preact';\nimport { NoticeBar } from 'cafune';\nimport './style.scss';\nexport default class Page extends Component {\n  render() {\n    return (\n      <div class=\"caf-demo caf-demo__noticebar\">\n        <p>基础用法</p>\n        <NoticeBar text=\"通知内容通知内容通知内容通知内容通知内容通知内容通知内容\" />\n        <p>自定义图标</p>\n        <NoticeBar\n          icon={false}\n          text=\"禁用图标通知内容通知内容通知内容通知内容通知内容通知内容通知内容\"\n        />\n        <NoticeBar\n          icon=\"more\"\n          text=\"自定义图标通知内容通知内容通知内容通知内容通知内容通知内容通知内容\"\n        />\n        <p>禁止滚动</p>\n        <NoticeBar\n          scrollable={false}\n          text=\"通知内容通知内容通知内容通知内容通知内容通知内容通知内容\"\n        />\n        <p>多行展示</p>\n        <NoticeBar\n          wrapable={true}\n          text=\"通知内容通知内容通知内容通知内容通知内容通知内容通知内容\"\n        />\n        <p>自定义样式</p>\n        <NoticeBar\n          color=\"#fff\"\n          bgColor=\"#177cb0\"\n          icon=\"more\"\n          text=\"通知内容通知内容通知内容通知内容通知内容通知内容通知内容\"\n        />\n        <p>自定义右侧</p>\n        <NoticeBar\n          action=\"closable\"\n          onClick={() => {\n            console.log('closed ');\n          }}\n          text=\"通知内容通知内容通知内容通知内容通知内容通知内容通知内容\"\n        />\n        <NoticeBar\n          action=\"link\"\n          text=\"通知内容通知内容通知内容通知内容通知内容通知内容通知内容\"\n        />\n        <NoticeBar\n          action=\"去看看\"\n          text=\"通知内容通知内容通知内容通知内容通知内容通知内容通知内容\"\n        />\n        <NoticeBar\n          action={<span style=\"color: #88ada6;\">去看看</span>}\n          text=\"通知内容通知内容通知内容通知内容通知内容通知内容通知内容\"\n        />\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./pages/components/notice-bar/index.js"],"sourceRoot":""}